
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="贝格迈思数据库使用手册">
      
      
      
      
        <link rel="prev" href="../09.2-CLIs/">
      
      
        <link rel="next" href="../09.4-BSQL/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>配置 - 手册</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="mo" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="手册" class="md-header__button md-logo" aria-label="手册" data-md-component="logo">
      
  <img src="../../assets/new-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            手册
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              配置
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aminerdocs/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="手册" class="md-nav__button md-logo" aria-label="手册" data-md-component="logo">
      
  <img src="../../assets/new-logo.png" alt="logo">

    </a>
    手册
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aminerdocs/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../01-AISQL%E7%AE%80%E4%BB%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AiSQL简介
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    快速上手
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            快速上手
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    快速安装部署
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/SQL%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL基本操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/BCQL%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BCQL基本操作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/%E5%88%9B%E5%BB%BAJava%E7%A4%BA%E4%BE%8B%E5%BA%94%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    创建Java示例应用程序
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    应用开发
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            应用开发
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    构建应用
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            构建应用
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/JAVA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Go/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Node.js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/C%2B%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/C%23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C#
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Ruby/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ruby
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/Rust/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%BA%94%E7%94%A8/PHP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PHP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/%E6%9E%84%E5%BB%BA%E5%85%A8%E5%B1%80%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    构建全局应用程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    构建多云应用程序
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            构建多云应用程序
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    概述
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../04-%E9%83%A8%E7%BD%B2%E9%9B%86%E7%BE%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    部署集群
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../05-%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据迁移
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../06-%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    管理数据库
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../07-%E5%90%91%E9%87%8F%E7%89%B9%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    向量特性
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../08-AI%E7%89%B9%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI特性
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    参考
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            参考
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09.1-%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    架构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09.2-CLIs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    配置
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    配置
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    配置
  </a>
  
    <nav class="md-nav" aria-label="配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bm-mserver" class="md-nav__link">
    bm-mserver
  </a>
  
    <nav class="md-nav" aria-label="bm-mserver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    基本语法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    通用标志
  </a>
  
    <nav class="md-nav" aria-label="通用标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-version" class="md-nav__link">
    --version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-flagfile" class="md-nav__link">
    --flagfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-mserver_addresses" class="md-nav__link">
    --mserver_addresses（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_data_dirs" class="md-nav__link">
    --fs_data_dirs（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rpc_bind_addresses" class="md-nav__link">
    --rpc_bind_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-server_broadcast_addresses" class="md-nav__link">
    --server_broadcast_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dns_cache_expiration_ms" class="md-nav__link">
    --dns_cache_expiration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_private_ip" class="md-nav__link">
    --use_private_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_interface" class="md-nav__link">
    --webserver_interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_port" class="md-nav__link">
    --webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_doc_root" class="md-nav__link">
    --webserver_doc_root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_certificate_file" class="md-nav__link">
    --webserver_certificate_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_authentication_domain" class="md-nav__link">
    --webserver_authentication_domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_password_file" class="md-nav__link">
    --webserver_password_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bsql" class="md-nav__link">
    BSQL标志
  </a>
  
    <nav class="md-nav" aria-label="BSQL标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_bsql" class="md-nav__link">
    --enable_bsql
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    日志标志
  </a>
  
    <nav class="md-nav" aria-label="日志标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-colorlogtostderr" class="md-nav__link">
    --colorlogtostderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-logbuflevel" class="md-nav__link">
    --logbuflevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-logbufsecs" class="md-nav__link">
    --logbufsecs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-logtostderr" class="md-nav__link">
    --logtostderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_dir" class="md-nav__link">
    --log_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_link" class="md-nav__link">
    --log_link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_prefix" class="md-nav__link">
    --log_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_log_size" class="md-nav__link">
    --max_log_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-minloglevel" class="md-nav__link">
    --minloglevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stderrthreshold" class="md-nav__link">
    --stderrthreshold
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raft" class="md-nav__link">
    Raft标志
  </a>
  
    <nav class="md-nav" aria-label="Raft标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-follower_unavailable_considered_failed_sec" class="md-nav__link">
    --follower_unavailable_considered_failed_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-evict_failed_followers" class="md-nav__link">
    --evict_failed_followers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_failure_max_missed_heartbeat_periods" class="md-nav__link">
    --leader_failure_max_missed_heartbeat_periods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_lease_duration_ms" class="md-nav__link">
    --leader_lease_duration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-raft_heartbeat_interval_ms" class="md-nav__link">
    --raft_heartbeat_interval_ms
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wal" class="md-nav__link">
    预写日志（WAL）标志
  </a>
  
    <nav class="md-nav" aria-label="预写日志（WAL）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs_1" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-durable_wal_write" class="md-nav__link">
    --durable_wal_write
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-interval_durable_wal_write_ms" class="md-nav__link">
    --interval_durable_wal_write_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bytes_durable_wal_write_mb" class="md-nav__link">
    --bytes_durable_wal_write_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_seconds_to_retain" class="md-nav__link">
    --log_min_seconds_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_segments_to_retain" class="md-nav__link">
    --log_min_segments_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_segment_size_mb" class="md-nav__link">
    --log_segment_size_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-reuse_unclosed_segment_threshold_bytes" class="md-nav__link">
    --reuse_unclosed_segment_threshold_bytes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    负载均衡标志
  </a>
  
    <nav class="md-nav" aria-label="负载均衡标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_load_balancing" class="md-nav__link">
    --enable_load_balancing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_balance_threshold" class="md-nav__link">
    --leader_balance_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_balance_unresponsive_timeout_ms" class="md-nav__link">
    --leader_balance_unresponsive_timeout_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_adds" class="md-nav__link">
    --load_balancer_max_concurrent_adds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_moves" class="md-nav__link">
    --load_balancer_max_concurrent_moves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_moves_per_table" class="md-nav__link">
    --load_balancer_max_concurrent_moves_per_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_removals" class="md-nav__link">
    --load_balancer_max_concurrent_removals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_tablet_remote_bootstraps" class="md-nav__link">
    --load_balancer_max_concurrent_tablet_remote_bootstraps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_tablet_remote_bootstraps_per_table" class="md-nav__link">
    --load_balancer_max_concurrent_tablet_remote_bootstraps_per_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_over_replicated_tablets" class="md-nav__link">
    --load_balancer_max_over_replicated_tablets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_num_idle_runs" class="md-nav__link">
    --load_balancer_num_idle_runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_skip_leader_as_remove_victim" class="md-nav__link">
    --load_balancer_skip_leader_as_remove_victim
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    分片标志
  </a>
  
    <nav class="md-nav" aria-label="分片标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-max_clock_skew_usec" class="md-nav__link">
    --max_clock_skew_usec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-replication_factor" class="md-nav__link">
    --replication_factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bi_num_shards_per_dbserver" class="md-nav__link">
    --bi_num_shards_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_num_shards_per_dbserver" class="md-nav__link">
    --bsql_num_shards_per_dbserver
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    分片拆分标志
  </a>
  
    <nav class="md-nav" aria-label="分片拆分标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_automatic_tablet_splitting" class="md-nav__link">
    --enable_automatic_tablet_splitting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_low_phase_shard_count_per_node" class="md-nav__link">
    --tablet_split_low_phase_shard_count_per_node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_low_phase_size_threshold_bytes" class="md-nav__link">
    --tablet_split_low_phase_size_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_high_phase_shard_count_per_node" class="md-nav__link">
    --tablet_split_high_phase_shard_count_per_node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_high_phase_size_threshold_bytes" class="md-nav__link">
    --tablet_split_high_phase_size_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_force_split_threshold_bytes" class="md-nav__link">
    --tablet_force_split_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_limit_per_table" class="md-nav__link">
    --tablet_split_limit_per_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-index_backfill_tablet_split_completion_timeout_sec" class="md-nav__link">
    --index_backfill_tablet_split_completion_timeout_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-index_backfill_tablet_split_completion_poll_freq_ms" class="md-nav__link">
    --index_backfill_tablet_split_completion_poll_freq_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-process_split_tablet_candidates_interval_msec" class="md-nav__link">
    --process_split_tablet_candidates_interval_msec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-outstanding_tablet_split_limit" class="md-nav__link">
    --outstanding_tablet_split_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-outstanding_tablet_split_limit_per_dbserver" class="md-nav__link">
    --outstanding_tablet_split_limit_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_tablet_split_of_pitr_tables" class="md-nav__link">
    --enable_tablet_split_of_pitr_tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_tablet_split_of_xdcr_replicated_tables" class="md-nav__link">
    --enable_tablet_split_of_xDCR_replicated_tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-prevent_split_for_ttl_tables_for_seconds" class="md-nav__link">
    --prevent_split_for_ttl_tables_for_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-prevent_split_for_small_key_range_tablets_for_seconds" class="md-nav__link">
    --prevent_split_for_small_key_range_tablets_for_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sort_automatic_tablet_splitting_candidates" class="md-nav__link">
    --sort_automatic_tablet_splitting_candidates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    地理分布标志
  </a>
  
    <nav class="md-nav" aria-label="地理分布标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-placement_zone" class="md-nav__link">
    --placement_zone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_region" class="md-nav__link">
    --placement_region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_cloud" class="md-nav__link">
    --placement_cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_uuid" class="md-nav__link">
    --placement_uuid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_private_ip_1" class="md-nav__link">
    --use_private_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_create_local_transaction_tables" class="md-nav__link">
    --auto_create_local_transaction_tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    安全标志
  </a>
  
    <nav class="md-nav" aria-label="安全标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-certs_dir" class="md-nav__link">
    --certs_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-allow_insecure_connections" class="md-nav__link">
    --allow_insecure_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dump_certificate_entries" class="md-nav__link">
    --dump_certificate_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_node_to_node_encryption" class="md-nav__link">
    --use_node_to_node_encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cipher_list" class="md-nav__link">
    --cipher_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ciphersuite" class="md-nav__link">
    --ciphersuite
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdc" class="md-nav__link">
    更改数据捕获（CDC）标志
  </a>
  
    <nav class="md-nav" aria-label="更改数据捕获（CDC）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-cdc_state_table_num_tablets" class="md-nav__link">
    --cdc_state_table_num_tablets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_wal_retention_time_secs" class="md-nav__link">
    --cdc_wal_retention_time_secs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    管理用户界面
  </a>
  
    <nav class="md-nav" aria-label="管理用户界面">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    主页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    分片服务器
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bm-dbserver" class="md-nav__link">
    bm-dbserver
  </a>
  
    <nav class="md-nav" aria-label="bm-dbserver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    基本语法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    通用标志
  </a>
  
    <nav class="md-nav" aria-label="通用标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-version_1" class="md-nav__link">
    --version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-flagfile_1" class="md-nav__link">
    --flagfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dbserver_mserver_addrs" class="md-nav__link">
    --dbserver_mserver_addrs（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_data_dirs_1" class="md-nav__link">
    --fs_data_dirs（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs_2" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rpc_bind_addresses_1" class="md-nav__link">
    --rpc_bind_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_clock_skew_usec_1" class="md-nav__link">
    --max_clock_skew_usec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-server_broadcast_addresses_1" class="md-nav__link">
    --server_broadcast_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_server_svc_queue_length" class="md-nav__link">
    --tablet_server_svc_queue_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dns_cache_expiration_ms_1" class="md-nav__link">
    --dns_cache_expiration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_private_ip_2" class="md-nav__link">
    --use_private_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_interface_1" class="md-nav__link">
    --webserver_interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_port_1" class="md-nav__link">
    --webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_doc_root_1" class="md-nav__link">
    --webserver_doc_root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_certificate_file_1" class="md-nav__link">
    --webserver_certificate_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_authentication_domain_1" class="md-nav__link">
    --webserver_authentication_domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_password_file_1" class="md-nav__link">
    --webserver_password_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    日志标志
  </a>
  
    <nav class="md-nav" aria-label="日志标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-logtostderr_1" class="md-nav__link">
    --logtostderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_dir_1" class="md-nav__link">
    --log_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_log_size_1" class="md-nav__link">
    --max_log_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-minloglevel_1" class="md-nav__link">
    --minloglevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stderrthreshold_1" class="md-nav__link">
    --stderrthreshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stop_logging_if_full_disk" class="md-nav__link">
    --stop_logging_if_full_disk
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raft_1" class="md-nav__link">
    Raft标志
  </a>
  
    <nav class="md-nav" aria-label="Raft标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-follower_unavailable_considered_failed_sec_1" class="md-nav__link">
    --follower_unavailable_considered_failed_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-evict_failed_followers_1" class="md-nav__link">
    --evict_failed_followers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_failure_max_missed_heartbeat_periods_1" class="md-nav__link">
    --leader_failure_max_missed_heartbeat_periods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_lease_duration_ms_1" class="md-nav__link">
    --leader_lease_duration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-raft_heartbeat_interval_ms_1" class="md-nav__link">
    --raft_heartbeat_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_stale_read_bound_time_ms" class="md-nav__link">
    --max_stale_read_bound_time_ms
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wal_1" class="md-nav__link">
    预写日志（WAL）标志
  </a>
  
    <nav class="md-nav" aria-label="预写日志（WAL）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs_3" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-durable_wal_write_1" class="md-nav__link">
    --durable_wal_write
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-interval_durable_wal_write_ms_1" class="md-nav__link">
    --interval_durable_wal_write_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bytes_durable_wal_write_mb_1" class="md-nav__link">
    --bytes_durable_wal_write_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_seconds_to_retain_1" class="md-nav__link">
    --log_min_seconds_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_segments_to_retain_1" class="md-nav__link">
    --log_min_segments_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_segment_size_mb_1" class="md-nav__link">
    --log_segment_size_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-reuse_unclosed_segment_threshold_bytes_1" class="md-nav__link">
    --reuse_unclosed_segment_threshold_bytes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    分片标志
  </a>
  
    <nav class="md-nav" aria-label="分片标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-bm_num_shards_per_dbserver" class="md-nav__link">
    --bm_num_shards_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_num_shards_per_dbserver_1" class="md-nav__link">
    --bsql_num_shards_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cleanup_split_tablets_interval_sec" class="md-nav__link">
    --cleanup_split_tablets_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_automatic_tablet_splitting_1" class="md-nav__link">
    --enable_automatic_tablet_splitting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-full_compaction_pool_max_threads" class="md-nav__link">
    --full_compaction_pool_max_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-full_compaction_pool_max_queue_size" class="md-nav__link">
    --full_compaction_pool_max_queue_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_check_interval_sec" class="md-nav__link">
    --auto_compact_check_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_stat_window_seconds" class="md-nav__link">
    --auto_compact_stat_window_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_percent_obsolete" class="md-nav__link">
    --auto_compact_percent_obsolete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_min_obsolete_keys_found" class="md-nav__link">
    --auto_compact_min_obsolete_keys_found
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_min_wait_between_seconds" class="md-nav__link">
    --auto_compact_min_wait_between_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-scheduled_full_compaction_frequency_hours" class="md-nav__link">
    --scheduled_full_compaction_frequency_hours
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-scheduled_full_compaction_jitter_factor_percentage" class="md-nav__link">
    --scheduled_full_compaction_jitter_factor_percentage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-automatic_compaction_extra_priority" class="md-nav__link">
    --automatic_compaction_extra_priority
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    地理分布标志
  </a>
  
    <nav class="md-nav" aria-label="地理分布标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-placement_zone_1" class="md-nav__link">
    --placement_zone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_region_1" class="md-nav__link">
    --placement_region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_cloud_1" class="md-nav__link">
    --placement_cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_uuid_1" class="md-nav__link">
    --placement_uuid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-force_global_transactions" class="md-nav__link">
    --force_global_transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto-create-local-transaction-tables" class="md-nav__link">
    --auto-create-local-transaction-tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto-promote-nonlocal-transactions-to-global" class="md-nav__link">
    --auto-promote-nonlocal-transactions-to-global
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xdcr" class="md-nav__link">
    xDCR标志
  </a>
  
    <nav class="md-nav" aria-label="xDCR标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-xdcr_svc_queue_size" class="md-nav__link">
    --xDCR_svc_queue_size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API标志
  </a>
  
    <nav class="md-nav" aria-label="API标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bsql_1" class="md-nav__link">
    BSQL
  </a>
  
    <nav class="md-nav" aria-label="BSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_bsql_1" class="md-nav__link">
    --enable_bsql
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sql_enable_auth" class="md-nav__link">
    --sql_enable_auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_enable_profile" class="md-nav__link">
    --bsql_enable_profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pgsql_proxy_bind_address" class="md-nav__link">
    --pgsql_proxy_bind_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pgsql_proxy_webserver_port" class="md-nav__link">
    --pgsql_proxy_webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_hba_conf_csv" class="md-nav__link">
    --bsql_hba_conf_csv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_pg_conf_csv" class="md-nav__link">
    --bsql_pg_conf_csv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_timezone" class="md-nav__link">
    --bsql_timezone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_datestyle" class="md-nav__link">
    --bsql_datestyle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_max_connections" class="md-nav__link">
    --bsql_max_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_default_transaction_isolation" class="md-nav__link">
    --bsql_default_transaction_isolation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_disable_index_backfill" class="md-nav__link">
    --bsql_disable_index_backfill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_sequence_cache_method" class="md-nav__link">
    --bsql_sequence_cache_method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_sequence_cache_minval" class="md-nav__link">
    --bsql_sequence_cache_minval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_log_statement" class="md-nav__link">
    --bsql_log_statement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_log_min_duration_statement" class="md-nav__link">
    --bsql_log_min_duration_statement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_log_min_messages" class="md-nav__link">
    --bsql_log_min_messages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bcql" class="md-nav__link">
    BCQL
  </a>
  
    <nav class="md-nav" aria-label="BCQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-use_cassandra_authentication" class="md-nav__link">
    --use_cassandra_authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cql_proxy_bind_address" class="md-nav__link">
    --cql_proxy_bind_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cql_proxy_webserver_port" class="md-nav__link">
    --cql_proxy_webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cql_table_is_transactional_by_default" class="md-nav__link">
    --cql_table_is_transactional_by_default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_disable_index_backfill" class="md-nav__link">
    --bcql_disable_index_backfill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_require_drop_privs_for_truncate" class="md-nav__link">
    --bcql_require_drop_privs_for_truncate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_enable_audit_log" class="md-nav__link">
    --bcql_enable_audit_log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_allow_non_authenticated_password_reset" class="md-nav__link">
    --bcql_allow_non_authenticated_password_reset
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bedis" class="md-nav__link">
    BEDIS
  </a>
  
    <nav class="md-nav" aria-label="BEDIS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-redis_proxy_bind_address" class="md-nav__link">
    --redis_proxy_bind_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-redis_proxy_webserver_port" class="md-nav__link">
    --redis_proxy_webserver_port
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    性能标志
  </a>
  
    <nav class="md-nav" aria-label="性能标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_ondisk_compression" class="md-nav__link">
    --enable_ondisk_compression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-compression_type" class="md-nav__link">
    --compression_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-regular_tablets_data_block_key_value_encoding" class="md-nav__link">
    --regular_tablets_data_block_key_value_encoding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_compact_flush_rate_limit_bytes_per_sec" class="md-nav__link">
    --rocksdb_compact_flush_rate_limit_bytes_per_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_universal_compaction_min_merge_width" class="md-nav__link">
    --rocksdb_universal_compaction_min_merge_width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_max_background_compactions" class="md-nav__link">
    --rocksdb_max_background_compactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_compaction_size_threshold_bytes" class="md-nav__link">
    --rocksdb_compaction_size_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_level0_file_num_compaction_trigger" class="md-nav__link">
    --rocksdb_level0_file_num_compaction_trigger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_universal_compaction_size_ratio" class="md-nav__link">
    --rocksdb_universal_compaction_size_ratio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-timestamp_history_retention_interval_sec" class="md-nav__link">
    --timestamp_history_retention_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-remote_bootstrap_rate_limit_bytes_per_sec" class="md-nav__link">
    --remote_bootstrap_rate_limit_bytes_per_sec
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    网络压缩标志
  </a>
  
    <nav class="md-nav" aria-label="网络压缩标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_stream_compression" class="md-nav__link">
    --enable_stream_compression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stream_compression_algo" class="md-nav__link">
    --stream_compression_algo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    安全标志
  </a>
  
    <nav class="md-nav" aria-label="安全标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-certs_dir_1" class="md-nav__link">
    --certs_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-allow_insecure_connections_1" class="md-nav__link">
    --allow_insecure_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-certs_for_client_dir" class="md-nav__link">
    --certs_for_client_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dump_certificate_entries_1" class="md-nav__link">
    --dump_certificate_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_client_to_server_encryption" class="md-nav__link">
    --use_client_to_server_encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_node_to_node_encryption_1" class="md-nav__link">
    --use_node_to_node_encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cipher_list_1" class="md-nav__link">
    --cipher_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ciphersuite_1" class="md-nav__link">
    --ciphersuite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ssl_protocols" class="md-nav__link">
    --ssl_protocols
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    压缩行标志（测试版）
  </a>
  
    <nav class="md-nav" aria-label="压缩行标志（测试版）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-bsql_enable_packed_row" class="md-nav__link">
    --bsql_enable_packed_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_packed_row_size_limit" class="md-nav__link">
    --bsql_packed_row_size_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_enable_packed_row" class="md-nav__link">
    --bcql_enable_packed_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_packed_row_size_limit" class="md-nav__link">
    --bcql_packed_row_size_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_enable_packed_row_for_colocated_table" class="md-nav__link">
    --bsql_enable_packed_row_for_colocated_table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdc_1" class="md-nav__link">
    更改数据捕获（CDC）标志
  </a>
  
    <nav class="md-nav" aria-label="更改数据捕获（CDC）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-cdc_state_checkpoint_update_interval_ms" class="md-nav__link">
    --cdc_state_checkpoint_update_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_biclient_reactor_threads" class="md-nav__link">
    --cdc_biclient_reactor_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_max_stream_intent_records" class="md-nav__link">
    --cdc_max_stream_intent_records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_snapshot_batch_size" class="md-nav__link">
    --cdc_snapshot_batch_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_min_replicated_index_considered_stale_secs" class="md-nav__link">
    --cdc_min_replicated_index_considered_stale_secs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-timestamp_history_retention_interval_sec_1" class="md-nav__link">
    --timestamp_history_retention_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-update_min_cdc_indices_interval_secs" class="md-nav__link">
    --update_min_cdc_indices_interval_secs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_checkpoint_opid_interval_ms" class="md-nav__link">
    --cdc_checkpoint_opid_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_max_seconds_to_retain" class="md-nav__link">
    --log_max_seconds_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_stop_retaining_min_disk_mb" class="md-nav__link">
    --log_stop_retaining_min_disk_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_delete_truncate_cdcsdk_table" class="md-nav__link">
    --enable_delete_truncate_cdcsdk_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_intent_retention_ms" class="md-nav__link">
    --cdc_intent_retention_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_update_local_peer_min_index" class="md-nav__link">
    --enable_update_local_peer_min_index
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttl" class="md-nav__link">
    基于TTL的文件过期标志
  </a>
  
    <nav class="md-nav" aria-label="基于TTL的文件过期标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-tablet_enable_ttl_file_filter" class="md-nav__link">
    --tablet_enable_ttl_file_filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_max_file_size_for_compaction" class="md-nav__link">
    --rocksdb_max_file_size_for_compaction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sst_files_soft_limit" class="md-nav__link">
    --sst_files_soft_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sst_files_hard_limit" class="md-nav__link">
    --sst_files_hard_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-file_expiration_ignore_value_ttl" class="md-nav__link">
    --file_expiration_ignore_value_ttl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-file_expiration_value_ttl_overrides_table_ttl" class="md-nav__link">
    --file_expiration_value_ttl_overrides_table_ttl
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postgresql" class="md-nav__link">
    PostgreSQL服务器选项
  </a>
  
    <nav class="md-nav" aria-label="PostgreSQL服务器选项">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log_line_prefix" class="md-nav__link">
    log_line_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suppress_nonpg_logs-boolean" class="md-nav__link">
    suppress_nonpg_logs (boolean)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temp_file_limit" class="md-nav__link">
    temp_file_limit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    管理用户界面
  </a>
  
    <nav class="md-nav" aria-label="管理用户界面">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    主页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tiles" class="md-nav__link">
    分片（Tiles）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bm-ctl" class="md-nav__link">
    bm-ctl
  </a>
  
    <nav class="md-nav" aria-label="bm-ctl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    语法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    命令
  </a>
  
    <nav class="md-nav" aria-label="命令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start" class="md-nav__link">
    start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure" class="md-nav__link">
    configure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert" class="md-nav__link">
    cert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop" class="md-nav__link">
    stop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy" class="md-nav__link">
    destroy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collect_logs" class="md-nav__link">
    collect_logs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect" class="md-nav__link">
    connect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo" class="md-nav__link">
    demo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    环境变量
  </a>
  
    <nav class="md-nav" aria-label="环境变量">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bsql_2" class="md-nav__link">
    BSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bcql_1" class="md-nav__link">
    BCQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    示例
  </a>
  
    <nav class="md-nav" aria-label="示例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    在 macOS 上运行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    销毁本地集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    创建单节点集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    为安全的本地多节点集群创建证书
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    创建本地多节点集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    创建多专区（可用区）集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    创建多区域集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    启用和禁用静态加密
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbserver" class="md-nav__link">
    将附加标志传递给 DBServer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aisql" class="md-nav__link">
    升级 AiSQL 集群
  </a>
  
    <nav class="md-nav" aria-label="升级 AiSQL 集群">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    将集群从单可用区升级为多可用区
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    默认端口
  </a>
  
    <nav class="md-nav" aria-label="默认端口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_1" class="md-nav__link">
    客户端API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc" class="md-nav__link">
    节点RPC通信
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    web管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    防火墙
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prometheus" class="md-nav__link">
    Prometheus监听
  </a>
  
    <nav class="md-nav" aria-label="Prometheus监听">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#servers" class="md-nav__link">
    Servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apis" class="md-nav__link">
    APIs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09.4-BSQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09.5-BCQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BCQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    配置
  </a>
  
    <nav class="md-nav" aria-label="配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bm-mserver" class="md-nav__link">
    bm-mserver
  </a>
  
    <nav class="md-nav" aria-label="bm-mserver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    基本语法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    通用标志
  </a>
  
    <nav class="md-nav" aria-label="通用标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-version" class="md-nav__link">
    --version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-flagfile" class="md-nav__link">
    --flagfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-mserver_addresses" class="md-nav__link">
    --mserver_addresses（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_data_dirs" class="md-nav__link">
    --fs_data_dirs（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rpc_bind_addresses" class="md-nav__link">
    --rpc_bind_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-server_broadcast_addresses" class="md-nav__link">
    --server_broadcast_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dns_cache_expiration_ms" class="md-nav__link">
    --dns_cache_expiration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_private_ip" class="md-nav__link">
    --use_private_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_interface" class="md-nav__link">
    --webserver_interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_port" class="md-nav__link">
    --webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_doc_root" class="md-nav__link">
    --webserver_doc_root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_certificate_file" class="md-nav__link">
    --webserver_certificate_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_authentication_domain" class="md-nav__link">
    --webserver_authentication_domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_password_file" class="md-nav__link">
    --webserver_password_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bsql" class="md-nav__link">
    BSQL标志
  </a>
  
    <nav class="md-nav" aria-label="BSQL标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_bsql" class="md-nav__link">
    --enable_bsql
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    日志标志
  </a>
  
    <nav class="md-nav" aria-label="日志标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-colorlogtostderr" class="md-nav__link">
    --colorlogtostderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-logbuflevel" class="md-nav__link">
    --logbuflevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-logbufsecs" class="md-nav__link">
    --logbufsecs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-logtostderr" class="md-nav__link">
    --logtostderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_dir" class="md-nav__link">
    --log_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_link" class="md-nav__link">
    --log_link
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_prefix" class="md-nav__link">
    --log_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_log_size" class="md-nav__link">
    --max_log_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-minloglevel" class="md-nav__link">
    --minloglevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stderrthreshold" class="md-nav__link">
    --stderrthreshold
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raft" class="md-nav__link">
    Raft标志
  </a>
  
    <nav class="md-nav" aria-label="Raft标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-follower_unavailable_considered_failed_sec" class="md-nav__link">
    --follower_unavailable_considered_failed_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-evict_failed_followers" class="md-nav__link">
    --evict_failed_followers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_failure_max_missed_heartbeat_periods" class="md-nav__link">
    --leader_failure_max_missed_heartbeat_periods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_lease_duration_ms" class="md-nav__link">
    --leader_lease_duration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-raft_heartbeat_interval_ms" class="md-nav__link">
    --raft_heartbeat_interval_ms
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wal" class="md-nav__link">
    预写日志（WAL）标志
  </a>
  
    <nav class="md-nav" aria-label="预写日志（WAL）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs_1" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-durable_wal_write" class="md-nav__link">
    --durable_wal_write
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-interval_durable_wal_write_ms" class="md-nav__link">
    --interval_durable_wal_write_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bytes_durable_wal_write_mb" class="md-nav__link">
    --bytes_durable_wal_write_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_seconds_to_retain" class="md-nav__link">
    --log_min_seconds_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_segments_to_retain" class="md-nav__link">
    --log_min_segments_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_segment_size_mb" class="md-nav__link">
    --log_segment_size_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-reuse_unclosed_segment_threshold_bytes" class="md-nav__link">
    --reuse_unclosed_segment_threshold_bytes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    负载均衡标志
  </a>
  
    <nav class="md-nav" aria-label="负载均衡标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_load_balancing" class="md-nav__link">
    --enable_load_balancing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_balance_threshold" class="md-nav__link">
    --leader_balance_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_balance_unresponsive_timeout_ms" class="md-nav__link">
    --leader_balance_unresponsive_timeout_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_adds" class="md-nav__link">
    --load_balancer_max_concurrent_adds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_moves" class="md-nav__link">
    --load_balancer_max_concurrent_moves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_moves_per_table" class="md-nav__link">
    --load_balancer_max_concurrent_moves_per_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_removals" class="md-nav__link">
    --load_balancer_max_concurrent_removals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_tablet_remote_bootstraps" class="md-nav__link">
    --load_balancer_max_concurrent_tablet_remote_bootstraps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_concurrent_tablet_remote_bootstraps_per_table" class="md-nav__link">
    --load_balancer_max_concurrent_tablet_remote_bootstraps_per_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_max_over_replicated_tablets" class="md-nav__link">
    --load_balancer_max_over_replicated_tablets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_num_idle_runs" class="md-nav__link">
    --load_balancer_num_idle_runs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-load_balancer_skip_leader_as_remove_victim" class="md-nav__link">
    --load_balancer_skip_leader_as_remove_victim
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    分片标志
  </a>
  
    <nav class="md-nav" aria-label="分片标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-max_clock_skew_usec" class="md-nav__link">
    --max_clock_skew_usec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-replication_factor" class="md-nav__link">
    --replication_factor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bi_num_shards_per_dbserver" class="md-nav__link">
    --bi_num_shards_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_num_shards_per_dbserver" class="md-nav__link">
    --bsql_num_shards_per_dbserver
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    分片拆分标志
  </a>
  
    <nav class="md-nav" aria-label="分片拆分标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_automatic_tablet_splitting" class="md-nav__link">
    --enable_automatic_tablet_splitting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_low_phase_shard_count_per_node" class="md-nav__link">
    --tablet_split_low_phase_shard_count_per_node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_low_phase_size_threshold_bytes" class="md-nav__link">
    --tablet_split_low_phase_size_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_high_phase_shard_count_per_node" class="md-nav__link">
    --tablet_split_high_phase_shard_count_per_node
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_high_phase_size_threshold_bytes" class="md-nav__link">
    --tablet_split_high_phase_size_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_force_split_threshold_bytes" class="md-nav__link">
    --tablet_force_split_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_split_limit_per_table" class="md-nav__link">
    --tablet_split_limit_per_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-index_backfill_tablet_split_completion_timeout_sec" class="md-nav__link">
    --index_backfill_tablet_split_completion_timeout_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-index_backfill_tablet_split_completion_poll_freq_ms" class="md-nav__link">
    --index_backfill_tablet_split_completion_poll_freq_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-process_split_tablet_candidates_interval_msec" class="md-nav__link">
    --process_split_tablet_candidates_interval_msec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-outstanding_tablet_split_limit" class="md-nav__link">
    --outstanding_tablet_split_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-outstanding_tablet_split_limit_per_dbserver" class="md-nav__link">
    --outstanding_tablet_split_limit_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_tablet_split_of_pitr_tables" class="md-nav__link">
    --enable_tablet_split_of_pitr_tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_tablet_split_of_xdcr_replicated_tables" class="md-nav__link">
    --enable_tablet_split_of_xDCR_replicated_tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-prevent_split_for_ttl_tables_for_seconds" class="md-nav__link">
    --prevent_split_for_ttl_tables_for_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-prevent_split_for_small_key_range_tablets_for_seconds" class="md-nav__link">
    --prevent_split_for_small_key_range_tablets_for_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sort_automatic_tablet_splitting_candidates" class="md-nav__link">
    --sort_automatic_tablet_splitting_candidates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    地理分布标志
  </a>
  
    <nav class="md-nav" aria-label="地理分布标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-placement_zone" class="md-nav__link">
    --placement_zone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_region" class="md-nav__link">
    --placement_region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_cloud" class="md-nav__link">
    --placement_cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_uuid" class="md-nav__link">
    --placement_uuid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_private_ip_1" class="md-nav__link">
    --use_private_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_create_local_transaction_tables" class="md-nav__link">
    --auto_create_local_transaction_tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    安全标志
  </a>
  
    <nav class="md-nav" aria-label="安全标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-certs_dir" class="md-nav__link">
    --certs_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-allow_insecure_connections" class="md-nav__link">
    --allow_insecure_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dump_certificate_entries" class="md-nav__link">
    --dump_certificate_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_node_to_node_encryption" class="md-nav__link">
    --use_node_to_node_encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cipher_list" class="md-nav__link">
    --cipher_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ciphersuite" class="md-nav__link">
    --ciphersuite
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdc" class="md-nav__link">
    更改数据捕获（CDC）标志
  </a>
  
    <nav class="md-nav" aria-label="更改数据捕获（CDC）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-cdc_state_table_num_tablets" class="md-nav__link">
    --cdc_state_table_num_tablets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_wal_retention_time_secs" class="md-nav__link">
    --cdc_wal_retention_time_secs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    管理用户界面
  </a>
  
    <nav class="md-nav" aria-label="管理用户界面">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    主页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    分片服务器
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bm-dbserver" class="md-nav__link">
    bm-dbserver
  </a>
  
    <nav class="md-nav" aria-label="bm-dbserver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    基本语法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    通用标志
  </a>
  
    <nav class="md-nav" aria-label="通用标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-version_1" class="md-nav__link">
    --version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-flagfile_1" class="md-nav__link">
    --flagfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dbserver_mserver_addrs" class="md-nav__link">
    --dbserver_mserver_addrs（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_data_dirs_1" class="md-nav__link">
    --fs_data_dirs（必须项）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs_2" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rpc_bind_addresses_1" class="md-nav__link">
    --rpc_bind_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_clock_skew_usec_1" class="md-nav__link">
    --max_clock_skew_usec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-server_broadcast_addresses_1" class="md-nav__link">
    --server_broadcast_addresses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-tablet_server_svc_queue_length" class="md-nav__link">
    --tablet_server_svc_queue_length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dns_cache_expiration_ms_1" class="md-nav__link">
    --dns_cache_expiration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_private_ip_2" class="md-nav__link">
    --use_private_ip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_interface_1" class="md-nav__link">
    --webserver_interface
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_port_1" class="md-nav__link">
    --webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_doc_root_1" class="md-nav__link">
    --webserver_doc_root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_certificate_file_1" class="md-nav__link">
    --webserver_certificate_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_authentication_domain_1" class="md-nav__link">
    --webserver_authentication_domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-webserver_password_file_1" class="md-nav__link">
    --webserver_password_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    日志标志
  </a>
  
    <nav class="md-nav" aria-label="日志标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-logtostderr_1" class="md-nav__link">
    --logtostderr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_dir_1" class="md-nav__link">
    --log_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_log_size_1" class="md-nav__link">
    --max_log_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-minloglevel_1" class="md-nav__link">
    --minloglevel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stderrthreshold_1" class="md-nav__link">
    --stderrthreshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stop_logging_if_full_disk" class="md-nav__link">
    --stop_logging_if_full_disk
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raft_1" class="md-nav__link">
    Raft标志
  </a>
  
    <nav class="md-nav" aria-label="Raft标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-follower_unavailable_considered_failed_sec_1" class="md-nav__link">
    --follower_unavailable_considered_failed_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-evict_failed_followers_1" class="md-nav__link">
    --evict_failed_followers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_failure_max_missed_heartbeat_periods_1" class="md-nav__link">
    --leader_failure_max_missed_heartbeat_periods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-leader_lease_duration_ms_1" class="md-nav__link">
    --leader_lease_duration_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-raft_heartbeat_interval_ms_1" class="md-nav__link">
    --raft_heartbeat_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-max_stale_read_bound_time_ms" class="md-nav__link">
    --max_stale_read_bound_time_ms
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wal_1" class="md-nav__link">
    预写日志（WAL）标志
  </a>
  
    <nav class="md-nav" aria-label="预写日志（WAL）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-fs_wal_dirs_3" class="md-nav__link">
    --fs_wal_dirs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-durable_wal_write_1" class="md-nav__link">
    --durable_wal_write
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-interval_durable_wal_write_ms_1" class="md-nav__link">
    --interval_durable_wal_write_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bytes_durable_wal_write_mb_1" class="md-nav__link">
    --bytes_durable_wal_write_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_seconds_to_retain_1" class="md-nav__link">
    --log_min_seconds_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_min_segments_to_retain_1" class="md-nav__link">
    --log_min_segments_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_segment_size_mb_1" class="md-nav__link">
    --log_segment_size_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-reuse_unclosed_segment_threshold_bytes_1" class="md-nav__link">
    --reuse_unclosed_segment_threshold_bytes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    分片标志
  </a>
  
    <nav class="md-nav" aria-label="分片标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-bm_num_shards_per_dbserver" class="md-nav__link">
    --bm_num_shards_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_num_shards_per_dbserver_1" class="md-nav__link">
    --bsql_num_shards_per_dbserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cleanup_split_tablets_interval_sec" class="md-nav__link">
    --cleanup_split_tablets_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_automatic_tablet_splitting_1" class="md-nav__link">
    --enable_automatic_tablet_splitting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-full_compaction_pool_max_threads" class="md-nav__link">
    --full_compaction_pool_max_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-full_compaction_pool_max_queue_size" class="md-nav__link">
    --full_compaction_pool_max_queue_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_check_interval_sec" class="md-nav__link">
    --auto_compact_check_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_stat_window_seconds" class="md-nav__link">
    --auto_compact_stat_window_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_percent_obsolete" class="md-nav__link">
    --auto_compact_percent_obsolete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_min_obsolete_keys_found" class="md-nav__link">
    --auto_compact_min_obsolete_keys_found
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto_compact_min_wait_between_seconds" class="md-nav__link">
    --auto_compact_min_wait_between_seconds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-scheduled_full_compaction_frequency_hours" class="md-nav__link">
    --scheduled_full_compaction_frequency_hours
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-scheduled_full_compaction_jitter_factor_percentage" class="md-nav__link">
    --scheduled_full_compaction_jitter_factor_percentage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-automatic_compaction_extra_priority" class="md-nav__link">
    --automatic_compaction_extra_priority
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    地理分布标志
  </a>
  
    <nav class="md-nav" aria-label="地理分布标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-placement_zone_1" class="md-nav__link">
    --placement_zone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_region_1" class="md-nav__link">
    --placement_region
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_cloud_1" class="md-nav__link">
    --placement_cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-placement_uuid_1" class="md-nav__link">
    --placement_uuid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-force_global_transactions" class="md-nav__link">
    --force_global_transactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto-create-local-transaction-tables" class="md-nav__link">
    --auto-create-local-transaction-tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-auto-promote-nonlocal-transactions-to-global" class="md-nav__link">
    --auto-promote-nonlocal-transactions-to-global
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xdcr" class="md-nav__link">
    xDCR标志
  </a>
  
    <nav class="md-nav" aria-label="xDCR标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-xdcr_svc_queue_size" class="md-nav__link">
    --xDCR_svc_queue_size
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    API标志
  </a>
  
    <nav class="md-nav" aria-label="API标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bsql_1" class="md-nav__link">
    BSQL
  </a>
  
    <nav class="md-nav" aria-label="BSQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_bsql_1" class="md-nav__link">
    --enable_bsql
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sql_enable_auth" class="md-nav__link">
    --sql_enable_auth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_enable_profile" class="md-nav__link">
    --bsql_enable_profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pgsql_proxy_bind_address" class="md-nav__link">
    --pgsql_proxy_bind_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-pgsql_proxy_webserver_port" class="md-nav__link">
    --pgsql_proxy_webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_hba_conf_csv" class="md-nav__link">
    --bsql_hba_conf_csv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_pg_conf_csv" class="md-nav__link">
    --bsql_pg_conf_csv
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_timezone" class="md-nav__link">
    --bsql_timezone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_datestyle" class="md-nav__link">
    --bsql_datestyle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_max_connections" class="md-nav__link">
    --bsql_max_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_default_transaction_isolation" class="md-nav__link">
    --bsql_default_transaction_isolation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_disable_index_backfill" class="md-nav__link">
    --bsql_disable_index_backfill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_sequence_cache_method" class="md-nav__link">
    --bsql_sequence_cache_method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_sequence_cache_minval" class="md-nav__link">
    --bsql_sequence_cache_minval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_log_statement" class="md-nav__link">
    --bsql_log_statement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_log_min_duration_statement" class="md-nav__link">
    --bsql_log_min_duration_statement
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_log_min_messages" class="md-nav__link">
    --bsql_log_min_messages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bcql" class="md-nav__link">
    BCQL
  </a>
  
    <nav class="md-nav" aria-label="BCQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-use_cassandra_authentication" class="md-nav__link">
    --use_cassandra_authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cql_proxy_bind_address" class="md-nav__link">
    --cql_proxy_bind_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cql_proxy_webserver_port" class="md-nav__link">
    --cql_proxy_webserver_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cql_table_is_transactional_by_default" class="md-nav__link">
    --cql_table_is_transactional_by_default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_disable_index_backfill" class="md-nav__link">
    --bcql_disable_index_backfill
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_require_drop_privs_for_truncate" class="md-nav__link">
    --bcql_require_drop_privs_for_truncate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_enable_audit_log" class="md-nav__link">
    --bcql_enable_audit_log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_allow_non_authenticated_password_reset" class="md-nav__link">
    --bcql_allow_non_authenticated_password_reset
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bedis" class="md-nav__link">
    BEDIS
  </a>
  
    <nav class="md-nav" aria-label="BEDIS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-redis_proxy_bind_address" class="md-nav__link">
    --redis_proxy_bind_address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-redis_proxy_webserver_port" class="md-nav__link">
    --redis_proxy_webserver_port
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    性能标志
  </a>
  
    <nav class="md-nav" aria-label="性能标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_ondisk_compression" class="md-nav__link">
    --enable_ondisk_compression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-compression_type" class="md-nav__link">
    --compression_type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-regular_tablets_data_block_key_value_encoding" class="md-nav__link">
    --regular_tablets_data_block_key_value_encoding
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_compact_flush_rate_limit_bytes_per_sec" class="md-nav__link">
    --rocksdb_compact_flush_rate_limit_bytes_per_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_universal_compaction_min_merge_width" class="md-nav__link">
    --rocksdb_universal_compaction_min_merge_width
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_max_background_compactions" class="md-nav__link">
    --rocksdb_max_background_compactions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_compaction_size_threshold_bytes" class="md-nav__link">
    --rocksdb_compaction_size_threshold_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_level0_file_num_compaction_trigger" class="md-nav__link">
    --rocksdb_level0_file_num_compaction_trigger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_universal_compaction_size_ratio" class="md-nav__link">
    --rocksdb_universal_compaction_size_ratio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-timestamp_history_retention_interval_sec" class="md-nav__link">
    --timestamp_history_retention_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-remote_bootstrap_rate_limit_bytes_per_sec" class="md-nav__link">
    --remote_bootstrap_rate_limit_bytes_per_sec
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    网络压缩标志
  </a>
  
    <nav class="md-nav" aria-label="网络压缩标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-enable_stream_compression" class="md-nav__link">
    --enable_stream_compression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-stream_compression_algo" class="md-nav__link">
    --stream_compression_algo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    安全标志
  </a>
  
    <nav class="md-nav" aria-label="安全标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-certs_dir_1" class="md-nav__link">
    --certs_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-allow_insecure_connections_1" class="md-nav__link">
    --allow_insecure_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-certs_for_client_dir" class="md-nav__link">
    --certs_for_client_dir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-dump_certificate_entries_1" class="md-nav__link">
    --dump_certificate_entries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_client_to_server_encryption" class="md-nav__link">
    --use_client_to_server_encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-use_node_to_node_encryption_1" class="md-nav__link">
    --use_node_to_node_encryption
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cipher_list_1" class="md-nav__link">
    --cipher_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ciphersuite_1" class="md-nav__link">
    --ciphersuite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-ssl_protocols" class="md-nav__link">
    --ssl_protocols
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    压缩行标志（测试版）
  </a>
  
    <nav class="md-nav" aria-label="压缩行标志（测试版）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-bsql_enable_packed_row" class="md-nav__link">
    --bsql_enable_packed_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_packed_row_size_limit" class="md-nav__link">
    --bsql_packed_row_size_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_enable_packed_row" class="md-nav__link">
    --bcql_enable_packed_row
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bcql_packed_row_size_limit" class="md-nav__link">
    --bcql_packed_row_size_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-bsql_enable_packed_row_for_colocated_table" class="md-nav__link">
    --bsql_enable_packed_row_for_colocated_table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cdc_1" class="md-nav__link">
    更改数据捕获（CDC）标志
  </a>
  
    <nav class="md-nav" aria-label="更改数据捕获（CDC）标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-cdc_state_checkpoint_update_interval_ms" class="md-nav__link">
    --cdc_state_checkpoint_update_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_biclient_reactor_threads" class="md-nav__link">
    --cdc_biclient_reactor_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_max_stream_intent_records" class="md-nav__link">
    --cdc_max_stream_intent_records
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_snapshot_batch_size" class="md-nav__link">
    --cdc_snapshot_batch_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_min_replicated_index_considered_stale_secs" class="md-nav__link">
    --cdc_min_replicated_index_considered_stale_secs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-timestamp_history_retention_interval_sec_1" class="md-nav__link">
    --timestamp_history_retention_interval_sec
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-update_min_cdc_indices_interval_secs" class="md-nav__link">
    --update_min_cdc_indices_interval_secs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_checkpoint_opid_interval_ms" class="md-nav__link">
    --cdc_checkpoint_opid_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_max_seconds_to_retain" class="md-nav__link">
    --log_max_seconds_to_retain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-log_stop_retaining_min_disk_mb" class="md-nav__link">
    --log_stop_retaining_min_disk_mb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_delete_truncate_cdcsdk_table" class="md-nav__link">
    --enable_delete_truncate_cdcsdk_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-cdc_intent_retention_ms" class="md-nav__link">
    --cdc_intent_retention_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-enable_update_local_peer_min_index" class="md-nav__link">
    --enable_update_local_peer_min_index
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttl" class="md-nav__link">
    基于TTL的文件过期标志
  </a>
  
    <nav class="md-nav" aria-label="基于TTL的文件过期标志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-tablet_enable_ttl_file_filter" class="md-nav__link">
    --tablet_enable_ttl_file_filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-rocksdb_max_file_size_for_compaction" class="md-nav__link">
    --rocksdb_max_file_size_for_compaction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sst_files_soft_limit" class="md-nav__link">
    --sst_files_soft_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-sst_files_hard_limit" class="md-nav__link">
    --sst_files_hard_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-file_expiration_ignore_value_ttl" class="md-nav__link">
    --file_expiration_ignore_value_ttl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#-file_expiration_value_ttl_overrides_table_ttl" class="md-nav__link">
    --file_expiration_value_ttl_overrides_table_ttl
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postgresql" class="md-nav__link">
    PostgreSQL服务器选项
  </a>
  
    <nav class="md-nav" aria-label="PostgreSQL服务器选项">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log_line_prefix" class="md-nav__link">
    log_line_prefix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suppress_nonpg_logs-boolean" class="md-nav__link">
    suppress_nonpg_logs (boolean)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temp_file_limit" class="md-nav__link">
    temp_file_limit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    管理用户界面
  </a>
  
    <nav class="md-nav" aria-label="管理用户界面">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    主页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    表
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tiles" class="md-nav__link">
    分片（Tiles）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    工具
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bm-ctl" class="md-nav__link">
    bm-ctl
  </a>
  
    <nav class="md-nav" aria-label="bm-ctl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    语法
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    命令
  </a>
  
    <nav class="md-nav" aria-label="命令">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start" class="md-nav__link">
    start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure" class="md-nav__link">
    configure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cert" class="md-nav__link">
    cert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stop" class="md-nav__link">
    stop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy" class="md-nav__link">
    destroy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collect_logs" class="md-nav__link">
    collect_logs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect" class="md-nav__link">
    connect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo" class="md-nav__link">
    demo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    环境变量
  </a>
  
    <nav class="md-nav" aria-label="环境变量">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bsql_2" class="md-nav__link">
    BSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bcql_1" class="md-nav__link">
    BCQL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    示例
  </a>
  
    <nav class="md-nav" aria-label="示例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    在 macOS 上运行
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    销毁本地集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    创建单节点集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    为安全的本地多节点集群创建证书
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    创建本地多节点集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    创建多专区（可用区）集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    创建多区域集群
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    启用和禁用静态加密
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbserver" class="md-nav__link">
    将附加标志传递给 DBServer
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aisql" class="md-nav__link">
    升级 AiSQL 集群
  </a>
  
    <nav class="md-nav" aria-label="升级 AiSQL 集群">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    将集群从单可用区升级为多可用区
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    默认端口
  </a>
  
    <nav class="md-nav" aria-label="默认端口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_1" class="md-nav__link">
    客户端API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rpc" class="md-nav__link">
    节点RPC通信
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web" class="md-nav__link">
    web管理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    防火墙
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prometheus" class="md-nav__link">
    Prometheus监听
  </a>
  
    <nav class="md-nav" aria-label="Prometheus监听">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#servers" class="md-nav__link">
    Servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apis" class="md-nav__link">
    APIs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>配置</h1>

<h2 id="_1"><strong>配置</strong></h2>
<p>配置核心数据库服务 </p>
<h3 id="bm-mserver"><strong>bm-mserver</strong></h3>
<p>使用bm-mserver二进制文件及其标志来配置mserver服务器。bm-mserver可执行文件位于AiSQL 安装目录的bin目录中。</p>
<h4 id="_2"><strong>基本语法</strong></h4>
<p>基本语法：</p>
<div class="highlight"><pre><span></span><code>./ bm-mserver [ flag ] | [ flag ]
</code></pre></div>
<h4 id="_3"><strong>通用标志</strong></h4>
<h5 id="-version"><strong>--version</strong></h5>
<p>显示版本和编译信息，然后退出。</p>
<h5 id="-flagfile"><strong>--flagfile</strong></h5>
<p>指定加载标志的配置文件</p>
<h5 id="-mserver_addresses"><strong>--mserver_addresses（必须项）</strong></h5>
<p>指定mserver共识配置的所有RPC地址的逗号分隔列表（必须项）。</p>
<p>注意：
逗号分隔的值的数量应与mserver服务器的总数（或复制因子）相匹配。
默认值：127.0.0.1:11000</p>
<h5 id="-fs_data_dirs"><strong>--fs_data_dirs（必须项）</strong></h5>
<p>指定以逗号分隔的装载目录列表，bm-mserver将添加bm-data/mserver数据目录、mserver.err、mserver.out文件和pg_data目录。
注意：不支持在创建集群后再更改此标志的值。</p>
<h5 id="-fs_wal_dirs"><strong>--fs_wal_dirs</strong></h5>
<p>指定以逗号分隔的目录列表，bm-mserver将在其中存储预写（WAL）日志。这可以与--fs_data_dirs中列出的某个目录相同，但不是数据目录的子目录。
默认值与 --fs_data_dirs 相同。</p>
<h5 id="-rpc_bind_addresses"><strong>--rpc_bind_addresses</strong></h5>
<p>指定要为RPC连接绑定到的网络接口地址的逗号分隔列表。
在所有bm-mserver和bm-dbserver配置中，使用的值必须匹配。
默认值：运行服务器的主机的专用IP地址。例如：
--rpc_bind_addresss=172.x.x.x:11000</p>
<p>如果以下情况适用，请确保server_broadcast_addresss标志设置正确：
1） rpc_bind_addresss设置为0.0.0.0
2） rpc_bind_addresss涉及公共IP地址，例如0.0.0.0:11000，它指示服务器侦听所有可用的网络接口。</p>
<h5 id="-server_broadcast_addresses"><strong>--server_broadcast_addresses</strong></h5>
<p>指定服务器的公共IP或DNS主机名（带有可选端口）。此值用于服务器相互通信，具体取决于连接策略参数。
默认值：""</p>
<h5 id="-dns_cache_expiration_ms"><strong>--dns_cache_expiration_ms</strong></h5>
<p>指定缓存的DNS解析到期之前的持续时间（以毫秒为单位）。当使用主机名而不是IP地址时，必须查询DNS解析程序以将主机名与IP地址相匹配。通过使用本地DNS缓存临时存储DNS查找，可以更快地解决DNS查询，并可以避免额外的查询。这减少了延迟，缩短了加载时间，并减少了带宽和CPU消耗。
默认值：60000 (1分钟)</p>
<p>注意：
如果更改此值，请确保将相同的值添加到所有mserver和TSever配置中。</p>
<h5 id="-use_private_ip"><strong>--use_private_ip</strong></h5>
<p>指定用于确定何时使用专用IP地址进行节点间通信的策略。可能的值为never、zone、cloud和region。基于<a href="#_地理分布标志">地理分布标志</a>的值。</p>
<p>该策略的有效值为：
never：始终使用--server_broadcast_addresss。
zone：使用区域内的私有IP；在区域外使用--serverbroadcast_addresss。
Region：在一个区域的所有区域中使用私有IP地址；在区域外使用--server_broadcast_addresss。
默认值：never</p>
<h5 id="-webserver_interface"><strong>--webserver_interface</strong></h5>
<p>指定web服务器用户界面访问的绑定地址。 
默认值：0.0.0.0</p>
<h5 id="-webserver_port"><strong>--webserver_port</strong></h5>
<p>指定web服务器监听的端口。
默认值：10000</p>
<h5 id="-webserver_doc_root"><strong>--webserver_doc_root</strong></h5>
<p>监控web服务的目录。
默认值：AiSQL主目录中的www目录。 </p>
<h5 id="-webserver_certificate_file"><strong>--webserver_certificate_file</strong></h5>
<p>用于web服务器的SSL证书文件的位置（.pem格式）。如果为空，则不会为web服务器启用SSL。
默认值：""</p>
<h5 id="-webserver_authentication_domain"><strong>--webserver_authentication_domain</strong></h5>
<p>用于.htpasswd身份验证的域。这应与--webserver_password_file一起使用。 
默认值：""</p>
<h5 id="-webserver_password_file"><strong>--webserver_password_file</strong></h5>
<p>包含用户名和哈希密码的.htpasswd文件的位置，用于对web服务器进行身份验证。
默认值：""</p>
<h4 id="bsql"><strong>BSQL标志</strong></h4>
<h5 id="-enable_bsql"><strong>--enable_bsql</strong></h5>
<p>值为true，则可以使用BSQL API。</p>
<p>注意：确保mserver配置中的enable_bsql值与dbserver配置中的值相匹配。 
默认值： true</p>
<h4 id="_4"><strong>日志标志</strong></h4>
<h5 id="-colorlogtostderr"><strong>--colorlogtostderr</strong></h5>
<p>记录到stderr的彩色信息（如果终端支持）。
默认值：false</p>
<h5 id="-logbuflevel"><strong>--logbuflevel</strong></h5>
<p>在此级别（或更低级别）记录的缓冲区日志消息。
有效值：-1（不缓冲）；0（信息）；1（警告）；2（错误）；3（致命）
默认值：0 </p>
<h5 id="-logbufsecs"><strong>--logbufsecs</strong></h5>
<p>最多缓冲日志消息几秒钟。 
默认值：30</p>
<h5 id="-logtostderr"><strong>--logtostderr</strong></h5>
<p>将日志信息写入stderr，而不是写入日志文件。
默认值：false</p>
<h5 id="-log_dir"><strong>--log_dir</strong></h5>
<p>写mserver日志文件的目录。
默认值：与--fs_data_dirs相同</p>
<h5 id="-log_link"><strong>--log_link</strong></h5>
<p>给这个目录中的日志文件添加额外的链接。
默认值：""</p>
<h5 id="-log_prefix"><strong>--log_prefix</strong></h5>
<p>为每条日志行预先添加日志前缀。
默认值：true</p>
<h5 id="-max_log_size"><strong>--max_log_size</strong></h5>
<p>最大的日志尺寸大小，单位为MB，值0将被静默重写为1。
默认值：1800 (1.8 GB)</p>
<h5 id="-minloglevel"><strong>--minloglevel</strong></h5>
<p>记录消息的最低级别，有效值为：0（信息）；1（警告）；2（错误）；3（致命）。
默认值： 0（信息）</p>
<h5 id="-stderrthreshold"><strong>--stderrthreshold</strong></h5>
<p>除日志文件外，此级别或更高级别的日志消息也会复制到stderr。
默认值： 2</p>
<h4 id="raft"><strong>Raft标志</strong></h4>
<p>对于典型的部署，mserver配置中用于Raft和预写日志（WAL）标志的值应该与<a href="#_bi-tserver">bm-dbserver</a>配置中的值匹配。</p>
<h5 id="-follower_unavailable_considered_failed_sec"><strong>--follower_unavailable_considered_failed_sec</strong></h5>
<p>持续时间，以秒为单位，在该持续时间之后，由于Leader没有接收到心跳，followers被认为失败。
默认值： 7200 (2 小时)
--follower_unavailable_consided_failed_sec值应与--log_min_seconds_to_retain的值匹配。</p>
<h5 id="-evict_failed_followers"><strong>--evict_failed_followers</strong></h5>
<p>失败的followers将被逐出Raft组，数据将被重新复制。
默认值： false</p>
<p>注意，不建议将mserver的标志设置为true，因为一旦故障mserver被逐出，就无法自动恢复。</p>
<h5 id="-leader_failure_max_missed_heartbeat_periods"><strong>--leader_failure_max_missed_heartbeat_periods</strong></h5>
<p>在leader被视为失败之前，leader可能无法检测到的最大检测信号周期。总故障超时（以毫秒为单位）是--raft_heartbeat_interval_ms乘以
--leader_failure_max_missed_heartbeat_periods。</p>
<p>对于读取副本集群，在所有bm-dbserver和bm-mserver配置中都将该值设置为10。由于数据是全局复制的，RPC延迟会更高。在这样一个更高的RPC延迟部署中，使用此标志可以增加故障检测间隔。
默认值： 6</p>
<h5 id="-leader_lease_duration_ms"><strong>--leader_lease_duration_ms</strong></h5>
<p>Leader租约持续时间，以毫秒为单位。每次达成共识后，leader都会不断建立新的租约或延长现有租约。新服务器不允许作为leader（即，提供最新的读取请求或确认写入请求），直到旧leader的租约明确到期，或者旧leader明确承认新leader的租约。</p>
<p>此租约允许leader在租约期间安全地提供读取服务，即使在网络分区期间也是如此。有关详细信息，请参阅leader租约。</p>
<p>Leader租约持续时间应长于检测信号间隔，并且小于--leader_failure_max_missed_heartbeat_periods乘以--raft_heartbeat_interval_ms的倍数。</p>
<p>默认值：2000 </p>
<h5 id="-raft_heartbeat_interval_ms"><strong>--raft_heartbeat_interval_ms</strong></h5>
<p>Raft复制的检测心跳间隔时间，以毫秒为单位。leader在这个时间间隔内向followers 发出心跳。followers 期望在这个时间间隔内有心跳，如果一个leader连续错过几个，就会认为他失败了。 
默认值：500 </p>
<h4 id="wal"><strong>预写日志（WAL）标志</strong></h4>
<p>确保bm-mserver配置中用于预写日志（WAL）的值与bm-dbserver配置中的值匹配。 </p>
<h5 id="-fs_wal_dirs_1"><strong>--fs_wal_dirs</strong></h5>
<p>bm-dbserver保留WAL文件的目录。可能与--fs_data_dirs中列出的某个目录相同，但不是数据目录的子目录。
默认值： 与--fs_data_dirs相同</p>
<h5 id="-durable_wal_write"><strong>--durable_wal_write</strong></h5>
<p>如果设置为false，则每隔interval_durable_wal_write_ms（毫秒）或每隔bytes_durable_wal_write_mb兆字节（MB）（以先到者为准），对WAL的写入将同步到磁盘。此默认设置仅建议用于多可用区或多区域部署，其中可用区或区域是独立的故障域，并且不存在相关电源损失的风险。对于单个可用区（AZ）部署，此标志应设置为true。
默认值： false</p>
<h5 id="-interval_durable_wal_write_ms"><strong>--interval_durable_wal_write_ms</strong></h5>
<p>当--durable_wal_write为false时，每隔 --interval_durable_wal_write_ms 或 --bytes_durable_wal_write_mb（以先到者为准），对于WAL的写入将同步到磁盘。
默认值： 1000</p>
<h5 id="-bytes_durable_wal_write_mb"><strong>--bytes_durable_wal_write_mb</strong></h5>
<p>当--durable_wal_write为false时，每隔 --bytes_durable_wal_write_mb 或 --interval_durable_wal_write_ms（以先到者为准），对于WAL的写入将同步到磁盘。
默认值： 1</p>
<h5 id="-log_min_seconds_to_retain"><strong>--log_min_seconds_to_retain</strong></h5>
<p>无论持久性要求如何，保持WAL段的最小持续时间（以秒为单位）。WAL段可以保留更长的时间，如果它们是正确重新启动所必需的。该值应设置足够长的时间，以便在给定的时间段内重新启动暂时出现故障的分片服务器。
默认值：7200 (2 小时)</p>
<p>注意：--log_min_seconds_to_retain 值应该与
--follower_unavailable_considered_failed_sec 值相匹配。</p>
<h5 id="-log_min_segments_to_retain"><strong>--log_min_segments_to_retain</strong></h5>
<p>无论持久性要求如何，要保留的WAL段（文件）的最小数量。该值必须至少为1。 
默认值：2</p>
<h5 id="-log_segment_size_mb"><strong>--log_segment_size_mb</strong></h5>
<p>WAL段（文件）的大小，以兆字节（MB）为单位。当WAL段达到指定的大小时，将发生日志翻转，并创建一个新的WAL段文件。
默认值：64</p>
<h5 id="-reuse_unclosed_segment_threshold_bytes"><strong>--reuse_unclosed_segment_threshold_bytes</strong></h5>
<p>当服务器从上一次崩溃中重新启动时，如果分片的最后一个WAL文件大小小于或等于此阈值，则将重用最后的WAL文件。否则，WAL将在引导程序中分配一个新文件。要禁用WAL重用，请将该值设置为-1。</p>
<p>默认值：2.18.1中的默认值为-1，默认情况下禁用该功能；从2.19.1开始的默认值为524288（0.5 MB），默认情况下启用该功能。</p>
<h4 id="_5"><strong>负载均衡标志</strong></h4>
<p>对于bm-admin负载均衡命令，参考<a href="#_负载均衡命令">负载均衡命令</a>。</p>
<h5 id="-enable_load_balancing"><strong>--enable_load_balancing</strong></h5>
<p>启用或者禁用负载均衡。
默认值：true</p>
<h5 id="-leader_balance_threshold"><strong>--leader_balance_threshold</strong></h5>
<p>指定要均衡的每个分片服务器的leaders数量。如果将其配置为0（默认值），则leaders将以额外成本实现最佳均衡。
默认值：0</p>
<h5 id="-leader_balance_unresponsive_timeout_ms"><strong>--leader_balance_unresponsive_timeout_ms</strong></h5>
<p>指定bm-mserver在认为其没有响应之前，可以在没有从bm-dbserver接收到检测信号的情况下运行的时间段（以毫秒为单位）。未响应的服务器将被排除在leader 均衡之外。 
默认值：3000 (3 秒)</p>
<h5 id="-load_balancer_max_concurrent_adds"><strong>--load_balancer_max_concurrent_adds</strong></h5>
<p>指定要添加到负载均衡操作中的分片对等副本的最大数量。 
默认值：1</p>
<h5 id="-load_balancer_max_concurrent_moves"><strong>--load_balancer_max_concurrent_moves</strong></h5>
<p>指定在负载均衡操作中要移动的分片服务器（整个集群）上的分片leaders的最大数量。
默认值：2</p>
<h5 id="-load_balancer_max_concurrent_moves_per_table"><strong>--load_balancer_max_concurrent_moves_per_table</strong></h5>
<p>指定在负载均衡的任何一次运行中，每个表要移动的分片leaders的最大数量。分片leader在集群中移动的最大次数仍然受到标志load_balancer_max_concurrent_moves的限制。此标志旨在防止单个表使用所有的leader移动名额，而其他表无名额。
默认值：1</p>
<h5 id="-load_balancer_max_concurrent_removals"><strong>--load_balancer_max_concurrent_removals</strong></h5>
<p>指定在负载均衡操作中要执行的过度复制的分片对等删除的最大数量。
默认值：1</p>
<h5 id="-load_balancer_max_concurrent_tablet_remote_bootstraps"><strong>--load_balancer_max_concurrent_tablet_remote_bootstraps</strong></h5>
<p>指定在集群中远程启动的分片的最大数量。 
默认值：10</p>
<h5 id="-load_balancer_max_concurrent_tablet_remote_bootstraps_per_table"><strong>--load_balancer_max_concurrent_tablet_remote_bootstraps_per_table</strong></h5>
<p>任何表远程启动的分片的最大数量。集群中远程引导的最大数量仍然受到标志load_balancer_max_concurrent_tablet_remote_bootstraps的限制。此标志旨在防止单个表使用所有可用的远程引导会话，而其他表无可用的远程引导会话。 
默认值：2</p>
<h5 id="-load_balancer_max_over_replicated_tablets"><strong>--load_balancer_max_over_replicated_tablets</strong></h5>
<p>指定允许超过配置的复制因子的最大运行分片副本数。 
默认值：1</p>
<h5 id="-load_balancer_num_idle_runs"><strong>--load_balancer_num_idle_runs</strong></h5>
<p>指定负载均衡的空闲运行次数以将其视为空闲。
默认值：5</p>
<h5 id="-load_balancer_skip_leader_as_remove_victim"><strong>--load_balancer_skip_leader_as_remove_victim</strong></h5>
<p>如果LB跳过一个leader，则作为可能的罢免候选人。 
默认值：false</p>
<h4 id="_6"><strong>分片标志</strong></h4>
<h5 id="-max_clock_skew_usec"><strong>--max_clock_skew_usec</strong></h5>
<p>部署任意两个服务器之间的预期最大时钟偏移，单位为微秒（µs）。
默认值：500000 (500,000 µs = 500ms)</p>
<h5 id="-replication_factor"><strong>--replication_factor</strong></h5>
<p>每个分片要存储的副本或数据副本的数量，副本因子。
默认值：3</p>
<h5 id="-bi_num_shards_per_dbserver"><strong>--bi_num_shards_per_dbserver</strong></h5>
<p>创建用户表时，每个dbserver的每个BCQL表的的分片数。
默认值：-1（基于CPU内核的值在运行时计算）。
对于最多有两个CPU核心的服务器，默认值被认为是4。
对于三个或三个以上的CPU内核，默认值被认为是8。
如果enable_automatic_tablet_spliting为true，则默认值被视为1，表将以每个节点1个分片开始；对于2.18及更高版本，对于最多有4个CPU核心的服务器，没有定义该值，表将以每个集群1分片（对于最多有2个CPU核心）或2分片开始（对于最多4个CPU内核的服务器）。
使用bm-dev-ctl和bm-docker-ctl创建的本地集群安装使用该标志的默认值2。
使用biginsighted创建的集群始终使用默认值1。</p>
<p>注意：此值必须在AiSQL集群的所有bm-mserver和bm-dbserver配置上匹配。
如果该值设置为默认值（-1），则系统会根据CPU核的数量自动确定一个适当的值，并在2.18版本之前的启动过程中使用预期值对标志进行内部更新，并且标志从2.18版本开始保持不变。</p>
<p>CREATE TABLE ... WITH TABLETS = <num> 子句可以在每个表的基础上用于覆盖bi_num_shards_per_dbserver值。</p>
<h5 id="-bsql_num_shards_per_dbserver"><strong>--bsql_num_shards_per_dbserver</strong></h5>
<p>创建用户表时，每个BSQL表的每个dbserver的分片数。</p>
<p>默认值：-1（基于CPU内核的值在运行时计算）。
对于最多有两个CPU核心的服务器，默认值被认为是2。
对于具有三个或四个CPU核心的服务器，默认值被认为是4。
在四个核之外，默认值被认为是8。
如果enable_automatic_tablet_spliting为true，则默认值被视为1，表将以每个节点1个分片开始；对于2.18及更高版本，对于最多有4个CPU核心的服务器，没有定义该值，表将以每个集群1分片（对于最多有2个CPU核心）或2分片开始（对于最多4个CPU内核的服务器）。
使用bm-dev-ctl和bm-docker-ctl创建的本地集群安装使用该标志的默认值2。
使用biginsighted创建的集群始终使用默认值1。</p>
<p>注意：此值必须在AiSQL集群的所有bm-mserver和bm-dbserver配置上匹配。
如果该值设置为默认值（-1），则系统会根据CPU核的数量自动确定一个适当的值，并在2.18版本之前的启动过程中使用预期值对标志进行内部更新，并且标志从2.18版本开始保持不变。</p>
<p>CREATE TABLE ...SPLIT INTO语句可以在每个表的基础上用于覆盖bsql_num_shards_per_dbserver值。</p>
<h4 id="_7"><strong>分片拆分标志</strong></h4>
<h5 id="-enable_automatic_tablet_splitting"><strong>--enable_automatic_tablet_splitting</strong></h5>
<p>使AiSQL能够基于配置的指定分片阈值大小，自动分片。
默认值：true</p>
<p>注意：此值必须在AiSQL集群的所有bm-mserver和bm-dbserver配置上匹配。</p>
<h5 id="-tablet_split_low_phase_shard_count_per_node"><strong>--tablet_split_low_phase_shard_count_per_node</strong></h5>
<p>表中分片的阈值数量（每个集群节点），低于该阈值，自动分片拆分将使用--tablet_split_low_phase_size_threshold_bytes来确定要拆分的分片。
默认值：8</p>
<h5 id="-tablet_split_low_phase_size_threshold_bytes"><strong>--tablet_split_low_phase_size_threshold_bytes</strong></h5>
<p>当分片表处于自动拆分分片的低阶段时，尺寸大小阈值用于决定是否应拆分分片，请参见--tablet_split_low_phase_shard_count_per_node。 
默认值：512_MB</p>
<h5 id="-tablet_split_high_phase_shard_count_per_node"><strong>--tablet_split_high_phase_shard_count_per_node</strong></h5>
<p>表中分片的阈值数量（每个集群节点），低于该阈值，自动分片拆分将使用
--tablet_split_high_phase_size_threshold_bytes来确定要拆分的分片。
默认值：24</p>
<h5 id="-tablet_split_high_phase_size_threshold_bytes"><strong>--tablet_split_high_phase_size_threshold_bytes</strong></h5>
<p>当分片表处于自动拆分分片的高阶段时，尺寸大小阈值用于决定是否应拆分分片，请参见--tablet_split_high_phase_shard_count_per_node。
默认值：10_GB</p>
<h5 id="-tablet_force_split_threshold_bytes"><strong>--tablet_force_split_threshold_bytes</strong></h5>
<p>用于确定是否应该拆分分片的大小阈值，即使表的分片数量使其超过了高阶段。
默认值：100_GB</p>
<h5 id="-tablet_split_limit_per_table"><strong>--tablet_split_limit_per_table</strong></h5>
<p>用于拆分分片的每个表的最大分片数。如果此值设置为0，则禁用限制。
默认值：256</p>
<h5 id="-index_backfill_tablet_split_completion_timeout_sec"><strong>--index_backfill_tablet_split_completion_timeout_sec</strong></h5>
<p>在中止回填并将其标记为失败之前，在运行回填的表上，等待分片拆分完成的总时间。
默认值：30</p>
<h5 id="-index_backfill_tablet_split_completion_poll_freq_ms"><strong>--index_backfill_tablet_split_completion_poll_freq_ms</strong></h5>
<p>在重试查看正运行回填数据的表的分片拆分是否已完成之前的延迟时间。
默认值：2000</p>
<h5 id="-process_split_tablet_candidates_interval_msec"><strong>--process_split_tablet_candidates_interval_msec</strong></h5>
<p>自动拆分尝试之间的最短时间。运行之间的实际分割时间也受到catalog_manager_bg_task_wait_ms的影响，它控制后台任务线程在每个循环结束时睡眠的时间。
默认值：0</p>
<h5 id="-outstanding_tablet_split_limit"><strong>--outstanding_tablet_split_limit</strong></h5>
<p>限制未完成的分片拆分总数。如果值设置为0，则禁用限制。限制包括进行拆分后正在压缩的分片。
默认值：1</p>
<h5 id="-outstanding_tablet_split_limit_per_dbserver"><strong>--outstanding_tablet_split_limit_per_dbserver</strong></h5>
<p>限制每一个节点上未完成的分片拆分总数。如果值设置为0，则禁用限制。限制包括进行拆分后正在压缩的分片。
默认值：1</p>
<h5 id="-enable_tablet_split_of_pitr_tables"><strong>--enable_tablet_split_of_pitr_tables</strong></h5>
<p>启用表的自动分片拆分被以时间点恢复计划所覆盖。
默认值：true</p>
<h5 id="-enable_tablet_split_of_xdcr_replicated_tables"><strong>--enable_tablet_split_of_xDCR_replicated_tables</strong></h5>
<p>为作为xDCR复制设置一部分的表启用自动分片拆分。
默认值：false</p>
<p>要在跨集群复制的表上启用分片拆分，无论是生产者集群，还是消费者集群上，此标志都应设置为true，因为它们将独立执行拆分。生产者集群和消费者集群都必须运行在v2.14.0+才能启用该功能（与集群升级相关）。</p>
<h5 id="-prevent_split_for_ttl_tables_for_seconds"><strong>--prevent_split_for_ttl_tables_for_seconds</strong></h5>
<p>检查是否使用默认TTL拆分分片的秒数。如果此值设置为0，则禁用检查。
默认值：86400</p>
<h5 id="-prevent_split_for_small_key_range_tablets_for_seconds"><strong>--prevent_split_for_small_key_range_tablets_for_seconds</strong></h5>
<p>检查是否拆分键范围太小而无法拆分的分片的秒数。如果此值设置为0，则禁用检查。
默认值：300</p>
<h5 id="-sort_automatic_tablet_splitting_candidates"><strong>--sort_automatic_tablet_splitting_candidates</strong></h5>
<p>确定是否按从大到小的顺序对自动拆分候选进行排序（按拆分的较大分片的优先级排列）。
有关自动拆分分片的详细信息，请参阅以下内容：<a href="#_自动拆分分片">自动拆分分片</a></p>
<h4 id="_8"><strong>地理分布标志</strong></h4>
<p>与配置管理地理分布式集群相关的设置。</p>
<h5 id="-placement_zone"><strong>--placement_zone</strong></h5>
<p>部署此实例的可用性区域（AZ）或机架的名称。
默认值：rack1</p>
<h5 id="-placement_region"><strong>--placement_region</strong></h5>
<p>部署此实例的地域或数据中心的名称。
默认值：datacenter1</p>
<h5 id="-placement_cloud"><strong>--placement_cloud</strong></h5>
<p>部署此实例的云的名称。
默认值：cloud1</p>
<h5 id="-placement_uuid"><strong>--placement_uuid</strong></h5>
<p>集群的唯一标识符。
默认值：""</p>
<h5 id="-use_private_ip_1"><strong>--use_private_ip</strong></h5>
<p>确定何时使用私有IP地址。可能的值为never（默认值）、zone、cloud和region。基于placement_*配置标志的值。
默认值：never</p>
<h5 id="-auto_create_local_transaction_tables"><strong>--auto_create_local_transaction_tables</strong></h5>
<p>如果为true，则将为任何BSQL表空间自动创建事务表，该表空间中有一个位置和至少一个其他表。
默认值：true</p>
<h4 id="_9"><strong>安全标志</strong></h4>
<p>有关启用服务器到服务器加密的详细信息，请参见服务器到服务器加密</p>
<h5 id="-certs_dir"><strong>--certs_dir</strong></h5>
<p>包含此服务器的证书颁发机构、私钥和证书的目录。
默认值："" (<data drive>/bm-data/mserver/data/certs.)</p>
<h5 id="-allow_insecure_connections"><strong>--allow_insecure_connections</strong></h5>
<p>允许不安全的连接。设置为false可防止任何通信未加密的进程加入群集。请注意，此标志要求启用use_node_to_node_encryption。
默认值：true</p>
<h5 id="-dump_certificate_entries"><strong>--dump_certificate_entries</strong></h5>
<p>添加证书条目，包括IP地址和主机名，记录握手错误消息。启用此标志有助于调试证书问题。
默认值：false</p>
<h5 id="-use_node_to_node_encryption"><strong>--use_node_to_node_encryption</strong></h5>
<p>在集群的mserver和dbserver服务器之间，启用服务器到服务器，或者节点到节点的加密。为了正常工作，所有mserver服务器还必须启用其 --use_node_to_node_encryption标志。启用时，必须禁用--allow_insecure_connections标志。
默认值：false</p>
<h5 id="-cipher_list"><strong>--cipher_list</strong></h5>
<p>为TLS 1.2及更早版本指定密码列表。（对于TLS 1.3，请使用--ciphersuite。）按首选项顺序使用以冒号分隔的TLS 1.2密码名称列表。使用感叹号（！）排除密码。例如：
--cipher_list DEFAULTS:!DES:!IDEA:!3DES:!RC2</p>
<p>这允许TLS 1.2的所有密码都被接受，除了那些与省略的密码类别匹配的密码。
此标志需要重新启动或滚动重新启动。</p>
<p>默认值：DEFAULTS</p>
<h5 id="-ciphersuite"><strong>--ciphersuite</strong></h5>
<p>指定TLS 1.3的密码列表。对于TLS 1.2及更早版本，请使用--cipher_list。
按照首选项的顺序使用以冒号分隔的TLS 1.3密码套件名称列表。使用感叹号（！）排除密码。例如：
--ciphersuite DEFAULTS:!CHACHA20</p>
<p>这允许接受TLS 1.3的所有密码套件，但CHACHA20密码除外。
此标志需要重新启动或滚动重新启动。</p>
<p>默认值：DEFAULTS</p>
<h4 id="cdc"><strong>更改数据捕获（CDC）标志</strong></h4>
<p>对于其它的CDC配置标志，请参见bm-dbserver的<a href="#_更改数据捕获（CDC）标志_1">更改数据捕获（CDC）标志</a></p>
<h5 id="-cdc_state_table_num_tablets"><strong>--cdc_state_table_num_tablets</strong></h5>
<p>创建CDC状态表时要使用的分片数量。用于xDCR和CDCSDK。 
默认值：0 (使用与普通表相同的默认分片数量)</p>
<h5 id="-cdc_wal_retention_time_secs"><strong>--cdc_wal_retention_time_secs</strong></h5>
<p>用于创建CDC流的表的WAL保留时间（以秒为单位）。用于xDCR和CDCSDK。
默认值：14400 (4 小时)</p>
<div class="highlight"><pre><span></span><code>#### **示例**
./bm-mserver \
--mserver_addresses 10.0.0.1:11000,10.0.0.2:11000,10.0.0.3:11000 \
--rpc_bind_addresses 10.0.0.1\
--fs_data_dirs &quot;/home/centos/disk1,/home/centos/disk2&quot; \
--replication_factor=3
</code></pre></div>
<h4 id="_10"><strong>管理用户界面</strong></h4>
<p>bm-mserver的管理用户界面，可访问http://localhost:10000（默认值）</p>
<h5 id="_11"><strong>主页</strong></h5>
<p>mserver服务器的主页，提供了集群的高级概述信息。并非集群中的所有mserver服务器都显示相同的信息。</p>
<p><img alt="" src="media/chapter9/37.png" /></p>
<h5 id="_12"><strong>表</strong></h5>
<p>集群中存在的表信息列表。</p>
<p><img alt="" src="media/chapter9/38.png" /></p>
<h5 id="_13"><strong>分片服务器</strong></h5>
<p>列出集群中存在的所有dbserver节点</p>
<p><img alt="" src="media/chapter9/39.png" /></p>
<h5 id="_14"><strong>工具</strong></h5>
<p>列出集群的所有可用工具，用以调试性能。</p>
<p><img alt="" src="media/chapter9/40.png" /></p>
<h3 id="bm-dbserver"><strong>bm-dbserver</strong></h3>
<p>使用bm-dbserver二进制文件及其标志来配置dbserver服务器。bm-dbserver可执行文件位于AiSQL 安装目录的bin目录中。</p>
<h4 id="_15"><strong>基本语法</strong></h4>
<p>基本语法：</p>
<div class="highlight"><pre><span></span><code>./ bm-dbserver [ flag ]
</code></pre></div>
<h4 id="_16"><strong>通用标志</strong></h4>
<h5 id="-version_1"><strong>--version</strong></h5>
<p>显示版本和编译信息，然后退出。</p>
<h5 id="-flagfile_1"><strong>--flagfile</strong></h5>
<p>指定加载标志的配置文件</p>
<h5 id="-dbserver_mserver_addrs"><strong>--dbserver_mserver_addrs（必须项）</strong></h5>
<p>指定所有mserver RPC地址的逗号分隔列表（必须项）。</p>
<p>注意：
逗号分隔的值的数量应与mserver服务器的总数（或复制因子）相匹配。
默认值：127.0.0.1:11000</p>
<h5 id="-fs_data_dirs_1"><strong>--fs_data_dirs（必须项）</strong></h5>
<p>指定以逗号分隔的装载目录列表，bm-server将添加bm-data/dbserver数据目录、dbserver.err、dbserver.out文件和pg_data目录。
注意：不支持在创建集群后再更改此标志的值。</p>
<h5 id="-fs_wal_dirs_2"><strong>--fs_wal_dirs</strong></h5>
<p>指定以逗号分隔的目录列表，bm-dbserver将在其中存储预写（WAL）日志。这可以与--fs_data_dirs中列出的某个目录相同，但不是数据目录的子目录。
默认值与 --fs_data_dirs 相同。</p>
<h5 id="-rpc_bind_addresses_1"><strong>--rpc_bind_addresses</strong></h5>
<p>指定要为RPC连接绑定到的网络接口地址的逗号分隔列表。
在所有bm-mserver和bm-dbserver配置中，使用的值必须匹配。
默认值：运行服务器的主机的专用IP地址。例如：
--rpc_bind_addresss=172.x.x.x:21000</p>
<p>如果以下情况适用，请确保server_broadcast_addresss标志设置正确：</p>
<p>1)  rpc_bind_addresss设置为0.0.0.0
2)  rpc_bind_addresss涉及公共IP地址，例如0.0.0.0:21000，它指示服务器侦听所有可用的网络接口。</p>
<h5 id="-max_clock_skew_usec_1"><strong>--max_clock_skew_usec</strong></h5>
<p>部署任意两个服务器之间的预期最大时钟偏移，单位为微秒（µs）。
默认值：500000 (500,000 µs = 500ms)</p>
<h5 id="-server_broadcast_addresses_1"><strong>--server_broadcast_addresses</strong></h5>
<p>指定服务器的公共IP或DNS主机名（带有可选端口）。此值用于服务器相互通信，具体取决于连接策略参数。
默认值：""</p>
<h5 id="-tablet_server_svc_queue_length"><strong>--tablet_server_svc_queue_length</strong></h5>
<p>指定分片服务器用于从应用程序进行读写的队列大小。
默认值：5000</p>
<h5 id="-dns_cache_expiration_ms_1"><strong>--dns_cache_expiration_ms</strong></h5>
<p>指定缓存的DNS解析到期之前的持续时间（以毫秒为单位）。当使用主机名而不是IP地址时，必须查询DNS解析程序以将主机名与IP地址相匹配。通过使用本地DNS缓存临时存储DNS查找，可以更快地解决DNS查询，并可以避免额外的查询。这减少了延迟，缩短了加载时间，并减少了带宽和CPU消耗。</p>
<p>默认值：60000 (1分钟)</p>
<p>注意：
如果更改此值，请确保将相同的值添加到所有mserver和TSever配置中。</p>
<h5 id="-use_private_ip_2"><strong>--use_private_ip</strong></h5>
<p>指定用于确定何时使用专用IP地址进行节点间通信的策略。可能的值为never、zone、cloud和region。基于地理分布标志的值。</p>
<p>该策略的有效值为：
1） never：始终使用--server_broadcast_addresss。
2） zone：使用区域内的私有IP；在区域外使用--serverbroadcast_addresss。
3） Region：在一个区域的所有区域中使用私有IP地址；在区域外使用--server_broadcast_addresss。</p>
<p>默认值：never</p>
<h5 id="-webserver_interface_1"><strong>--webserver_interface</strong></h5>
<p>指定web服务器用户界面访问的绑定地址。 
默认值：0.0.0.0（127.0.0.1）</p>
<h5 id="-webserver_port_1"><strong>--webserver_port</strong></h5>
<p>指定web服务器监听的端口。
默认值：20000</p>
<h5 id="-webserver_doc_root_1"><strong>--webserver_doc_root</strong></h5>
<p>监控web服务的目录。
默认值：AiSQL主目录中的www目录。 </p>
<h5 id="-webserver_certificate_file_1"><strong>--webserver_certificate_file</strong></h5>
<p>用于web服务器的SSL证书文件的位置（.pem格式）。如果为空，则不会为web服务器启用SSL。
默认值：""</p>
<h5 id="-webserver_authentication_domain_1"><strong>--webserver_authentication_domain</strong></h5>
<p>用于.htpasswd身份验证的域。这应与--webserver_password_file一起使用。 
默认值：""</p>
<h5 id="-webserver_password_file_1"><strong>--webserver_password_file</strong></h5>
<p>包含用户名和哈希密码的.htpasswd文件的位置，用于对web服务器进行身份验证。
默认值：""</p>
<h4 id="_17"><strong>日志标志</strong></h4>
<h5 id="-logtostderr_1"><strong>--logtostderr</strong></h5>
<p>将日志信息写入stderr，而不是写入日志文件。
默认值：false</p>
<h5 id="-log_dir_1"><strong>--log_dir</strong></h5>
<p>写dbserver日志文件的目录。
默认值：与--fs_data_dirs相同</p>
<h5 id="-max_log_size_1"><strong>--max_log_size</strong></h5>
<p>最大的日志尺寸大小，单位为MB，值0将被静默重写为1。
默认值：1800 (1.8 GB)</p>
<h5 id="-minloglevel_1"><strong>--minloglevel</strong></h5>
<p>记录消息的最低级别，有效值为：0（信息）；1（警告）；2（错误）；3（致命）。
默认值： 0（信息）</p>
<h5 id="-stderrthreshold_1"><strong>--stderrthreshold</strong></h5>
<p>除日志文件外，此级别或更高级别的日志消息也会复制到stderr。
默认值： 2</p>
<h5 id="-stop_logging_if_full_disk"><strong>--stop_logging_if_full_disk</strong></h5>
<p>如果磁盘已满，停止写磁盘日志。
默认值： false</p>
<h4 id="raft_1"><strong>Raft标志</strong></h4>
<p>对于典型的部署，dbserver配置中用于Raft和预写日志（WAL）标志的值应该与<a href="#_bi-master">bm-mserver</a>配置中的值匹配。</p>
<h5 id="-follower_unavailable_considered_failed_sec_1"><strong>--follower_unavailable_considered_failed_sec</strong></h5>
<p>持续时间，以秒为单位，在该持续时间之后，由于Leader没有接收到心跳，followers被认为失败。然后从配置中逐出跟随者，并在其他地方重新复制数据。
默认值： 900(15分钟)</p>
<p>--follower_unavailable_consided_failed_sec值应与--log_min_seconds_to_retain的值匹配。</p>
<h5 id="-evict_failed_followers_1"><strong>--evict_failed_followers</strong></h5>
<p>失败的followers将被逐出Raft组，数据将被重新复制。
默认值： true</p>
<h5 id="-leader_failure_max_missed_heartbeat_periods_1"><strong>--leader_failure_max_missed_heartbeat_periods</strong></h5>
<p>在leader被视为失败之前，leader可能无法检测到的最大检测信号周期。总故障超时（以毫秒为单位）是--raft_heartbeat_interval_ms乘以
--leader_failure_max_missed_heartbeat_periods。</p>
<p>对于读取副本集群，在所有bm-dbserver和bm-mserver配置中都将该值设置为10。由于数据是全局复制的，RPC延迟会更高。在这样一个更高的RPC延迟部署中，使用此标志可以增加故障检测间隔。</p>
<p>默认值： 6</p>
<h5 id="-leader_lease_duration_ms_1"><strong>--leader_lease_duration_ms</strong></h5>
<p>Leader租约持续时间，以毫秒为单位。每次达成共识后，leader都会不断建立新的租约或延长现有租约。新服务器不允许作为leader（即，提供最新的读取请求或确认写入请求），直到旧leader的租约明确到期，或者旧leader明确承认新leader的租约。</p>
<p>此租约允许leader在租约期间安全地提供读取服务，即使在网络分区期间也是如此。有关详细信息，请参阅leader租约。</p>
<p>Leader租约持续时间应长于检测信号间隔，并且小于--leader_failure_max_missed_heartbeat_periods乘以--raft_heartbeat_interval_ms的倍数。</p>
<p>默认值：2000 </p>
<h5 id="-raft_heartbeat_interval_ms_1"><strong>--raft_heartbeat_interval_ms</strong></h5>
<p>Raft复制的检测心跳间隔时间，以毫秒为单位。leader在这个时间间隔内向followers 发出心跳。followers 期望在这个时间间隔内有心跳，如果一个leader连续错过几个，就会认为他失败了。 
默认值：500 </p>
<h5 id="-max_stale_read_bound_time_ms"><strong>--max_stale_read_bound_time_ms</strong></h5>
<p>指定follower向leader转发读取请求之前的最大边界（持续时间）（以毫秒为单位）。</p>
<p>在地理分布的集群中，follower距离分片leader很远，可以使用此设置来增加最大边界。
默认值：10000 (10 秒)</p>
<h4 id="wal_1"><strong>预写日志（WAL）标志</strong></h4>
<p>确保bm-dbserver配置中用于预写日志（WAL）的值与bm-mserver配置中的值匹配。 </p>
<h5 id="-fs_wal_dirs_3"><strong>--fs_wal_dirs</strong></h5>
<p>bm-dbserver保留WAL文件的目录。可能与--fs_data_dirs中列出的某个目录相同，但不是数据目录的子目录。
默认值： 与--fs_data_dirs相同</p>
<h5 id="-durable_wal_write_1"><strong>--durable_wal_write</strong></h5>
<p>如果设置为false，则每隔interval_durable_wal_write_ms（毫秒）或每隔bytes_durable_wal_write_mb兆字节（MB）（以先到者为准），对WAL的写入将同步到磁盘。此默认设置仅建议用于多可用区或多区域部署，其中可用区或区域是独立的故障域，并且不存在相关电源损失的风险。对于单个可用区（AZ）部署，此标志应设置为true。
默认值： false</p>
<h5 id="-interval_durable_wal_write_ms_1"><strong>--interval_durable_wal_write_ms</strong></h5>
<p>当--durable_wal_write为false时，每隔 --interval_durable_wal_write_ms 或 --bytes_durable_wal_write_mb（以先到者为准），对于WAL的写入将同步到磁盘。
默认值： 1000</p>
<h5 id="-bytes_durable_wal_write_mb_1"><strong>--bytes_durable_wal_write_mb</strong></h5>
<p>当--durable_wal_write为false时，每隔 --bytes_durable_wal_write_mb 或 --interval_durable_wal_write_ms（以先到者为准），对于WAL的写入将同步到磁盘。
默认值： 1</p>
<h5 id="-log_min_seconds_to_retain_1"><strong>--log_min_seconds_to_retain</strong></h5>
<p>无论持久性要求如何，保持WAL段的最小持续时间（以秒为单位）。WAL段可以保留更长的时间，如果它们是正确重新启动所必需的。该值应设置足够长的时间，以便在给定的时间段内重新启动暂时出现故障的分片服务器。
默认值：900(15分钟)</p>
<h5 id="-log_min_segments_to_retain_1"><strong>--log_min_segments_to_retain</strong></h5>
<p>无论持久性要求如何，要保留的WAL段（文件）的最小数量。该值必须至少为1。 
默认值：2</p>
<h5 id="-log_segment_size_mb_1"><strong>--log_segment_size_mb</strong></h5>
<p>WAL段（文件）的大小，以兆字节（MB）为单位。当WAL段达到指定的大小时，将发生日志翻转，并创建一个新的WAL段文件。
默认值：64</p>
<h5 id="-reuse_unclosed_segment_threshold_bytes_1"><strong>--reuse_unclosed_segment_threshold_bytes</strong></h5>
<p>当服务器从上一次崩溃中重新启动时，如果分片的最后一个WAL文件大小小于或等于此阈值，则将重用最后的WAL文件。否则，WAL将在引导程序中分配一个新文件。要禁用WAL重用，请将该值设置为-1。</p>
<p>默认值：2.18.1中的默认值为-1，默认情况下禁用该功能；从2.19.1开始的默认值为524288（0.5 MB），默认情况下启用该功能。</p>
<h4 id="_18"><strong>分片标志</strong></h4>
<h5 id="-bm_num_shards_per_dbserver"><strong>--bm_num_shards_per_dbserver</strong></h5>
<p>创建用户表时，每个dbserver的每个BCQL表的的分片数。</p>
<p>默认值：-1（基于CPU内核的值在运行时计算）。
对于最多有两个CPU核心的服务器，默认值被认为是4。
对于三个或三个以上的CPU内核，默认值被认为是8。
如果enable_automatic_tablet_spliting为true，则默认值被视为1，表将以每个节点1个分片开始；对于2.18及更高版本，对于最多有4个CPU核心的服务器，没有定义该值，表将以每个集群1分片（对于最多有2个CPU核心）或2分片开始（对于最多4个CPU内核的服务器）。
使用bm-dev-ctl和bm-docker-ctl创建的本地集群安装使用该标志的默认值2。
使用biginsighted创建的集群始终使用默认值1。</p>
<p>注意：此值必须在AiSQL集群的所有bm-mserver和bm-dbserver配置上匹配。
如果该值设置为默认值（-1），则系统会根据CPU核的数量自动确定一个适当的值，并在2.18版本之前的启动过程中使用预期值对标志进行内部更新，并且标志从2.18版本开始保持不变。</p>
<p>CREATE TABLE ... WITH TABLETS = <num> 子句可以在每个表的基础上用于覆盖bi_num_shards_per_dbserver值。</p>
<h5 id="-bsql_num_shards_per_dbserver_1"><strong>--bsql_num_shards_per_dbserver</strong></h5>
<p>创建用户表时，每个BSQL表的每个dbserver的分片数。</p>
<p>默认值：-1（基于CPU内核的值在运行时计算）。
对于最多有两个CPU核心的服务器，默认值被认为是2。
对于具有三个或四个CPU核心的服务器，默认值被认为是4。
在四个核之外，默认值被认为是8。
如果enable_automatic_tablet_spliting为true，则默认值被视为1，表将以每个节点1个分片开始；对于2.18及更高版本，对于最多有4个CPU核心的服务器，没有定义该值，表将以每个集群1分片（对于最多有2个CPU核心）或2分片开始（对于最多4个CPU内核的服务器）。
使用bm-dev-ctl和bm-docker-ctl创建的本地集群安装使用该标志的默认值2。
使用biginsighted创建的集群始终使用默认值1。</p>
<p>注意：此值必须在AiSQL集群的所有bm-mserver和bm-dbserver配置上匹配。
如果该值设置为默认值（-1），则系统会根据CPU核的数量自动确定一个适当的值，并在2.18版本之前的启动过程中使用预期值对标志进行内部更新，并且标志从2.18版本开始保持不变。</p>
<p>CREATE TABLE ...SPLIT INTO语句可以在每个表的基础上用于覆盖bsql_num_shards_per_dbserver值。</p>
<h5 id="-cleanup_split_tablets_interval_sec"><strong>--cleanup_split_tablets_interval_sec</strong></h5>
<p>分片管理器尝试清理不再需要的拆分分片的时间间隔。将此设置为0将禁用拆分分片的清理。
默认值：60</p>
<h5 id="-enable_automatic_tablet_splitting_1"><strong>--enable_automatic_tablet_splitting</strong></h5>
<p>启用AiSQL自动拆分分片
默认值：true</p>
<p>注意：此值必须在AiSQL集群的所有bm-mserver和bm-dbserver配置上匹配。</p>
<h5 id="-full_compaction_pool_max_threads"><strong>--full_compaction_pool_max_threads</strong></h5>
<p>非管理员完全压缩所允许的最大线程数。这包括拆分后压缩（在拆分后从新分片中删除无关数据的压缩）和已计划的完全压缩。
默认值：1</p>
<h5 id="-full_compaction_pool_max_queue_size"><strong>--full_compaction_pool_max_queue_size</strong></h5>
<p>可以同时排队的最大完整压缩任务数。这包括拆分后压缩（在拆分后从新分片中删除不相关数据的压缩）和已计划的完全压缩。
默认值：200</p>
<h5 id="-auto_compact_check_interval_sec"><strong>--auto_compact_check_interval_sec</strong></h5>
<p>完全压缩任务将检查符合压缩条件的分片的间隔（包括基于统计的完全压缩和已计划的完全压缩）。0表示禁用了基于统计信息的完全压缩功能。 
默认值：60</p>
<h5 id="-auto_compact_stat_window_seconds"><strong>--auto_compact_stat_window_seconds</strong></h5>
<p>为触发完全压缩以提高读取性能，而分析CoreDB读取统计信息的时间窗口（以秒为单位）。auto_compact_percent_obsolete和auto_compact _min_obsolete_keys_found 都是在这段时间内进行评估的。
auto_compact_stat_window_seconds必须计算为auto_compact_check_interval_sec的倍数，并将四舍五入以满足此约束。例如，如果将auto_compact_stat_window_seconds设置为100，将auto_compact_check_interval_sec设置为60，则在运行时将四舍五入到120。
默认值：300</p>
<h5 id="-auto_compact_percent_obsolete"><strong>--auto_compact_percent_obsolete</strong></h5>
<p>在分片上触发自动完全压缩所需的auto_compact_stat_window_seconds时间窗口中读取的过时密钥（占总密钥）的百分比。只有超过其历史保留期的密钥（可以进行垃圾回收）才会计入该阈值。</p>
<p>例如，如果标志设置为99，并且在该时间窗口内读取了100000个密钥，并且其中99900个密钥已过时并超过了其历史保留期，则将触发完全压缩（取决于其他条件）。
默认值：99</p>
<h5 id="-auto_compact_min_obsolete_keys_found"><strong>--auto_compact_min_obsolete_keys_found</strong></h5>
<p>在上一次auto_compact_stat_window_seconds中必须读取的最小键数，以触发基于统计信息的完全压缩。
默认值：10000</p>
<h5 id="-auto_compact_min_wait_between_seconds"><strong>--auto_compact_min_wait_between_seconds</strong></h5>
<p>Minimum wait time between statistics-based and scheduled full compactions. To be used if statistics-based compactions are triggering too frequently.
基于统计信息的完全压缩和计划的完全压缩之间的最短等待时间。如果基于统计的压缩触发过于频繁，则需要使用它。
默认值：0</p>
<h5 id="-scheduled_full_compaction_frequency_hours"><strong>--scheduled_full_compaction_frequency_hours</strong></h5>
<p>分片应计划完全压缩的频率。0表示该功能已禁用。建议值：720小时或更长时间（即30天）。
默认值：0</p>
<h5 id="-scheduled_full_compaction_jitter_factor_percentage"><strong>--scheduled_full_compaction_jitter_factor_percentage</strong></h5>
<p>在确定每片分片的完全压缩计划时，用作抖动的scheduled_full_compaction_frequency_hours的百分比，必须是介于0和100之间的值。引入抖动是为了防止许多分片同时被安排进行完全压缩。
抖动是在调度压缩时决定性地计算的，在0和（频率 * 抖动因子）小时之间。计算后，从预期压缩频率中减去抖动，来确定分片的下一次压缩时间。
例如：如果scheduled_full_compaction_frequency_hours为720小时（即30天），并且scheduled_full_compaction_jitter_factor_percentage为33%，则每482小时至720小时将计划一次压缩。
默认值：33</p>
<h5 id="-automatic_compaction_extra_priority"><strong>--automatic_compaction_extra_priority</strong></h5>
<p>当启用自动分片拆分时，为自动（次要）压缩指定额外的优先级。这降低了分割后压缩的优先级，并确保较小的压缩不会被耗尽。建议的值介于0和50之间。
默认值：50</p>
<h4 id="_19"><strong>地理分布标志</strong></h4>
<p>与配置管理地理分布式集群相关的设置。</p>
<h5 id="-placement_zone_1"><strong>--placement_zone</strong></h5>
<p>部署此实例的可用性区域（AZ）或机架的名称。
默认值：rack1</p>
<h5 id="-placement_region_1"><strong>--placement_region</strong></h5>
<p>部署此实例的地域或数据中心的名称。
默认值：datacenter1</p>
<h5 id="-placement_cloud_1"><strong>--placement_cloud</strong></h5>
<p>部署此实例的云的名称。
默认值：cloud1</p>
<h5 id="-placement_uuid_1"><strong>--placement_uuid</strong></h5>
<p>集群的唯一标识符。
默认值：""</p>
<h5 id="-force_global_transactions"><strong>--force_global_transactions</strong></h5>
<p>如果为true，则强制通过此实例的所有事务，始终使用system.transactions事务状态表的全局事务。这相当于始终将BSQL参数force_global_transaction设置为TRUE。</p>
<p>注意：
全局事务延迟
应尽可能避免设置此标志。所有分布式事务都可以作为全局事务毫无问题地运行，但提交事务时可能会有更高的延迟，因为AiSQL必须在多个区域之间达成共识才能写入system.transactions。必要时，最好选择性地设置BSQL参数force_global_transaction=TRUE，而不是设置此标志。</p>
<p>默认值：false</p>
<h5 id="-auto-create-local-transaction-tables"><strong>--auto-create-local-transaction-tables</strong></h5>
<p>如果为true，则将在每个BSQL表空间下创建事务状态表，该表空间具有一个放置集，并至少包含一个其他表。 
默认值：true</p>
<h5 id="-auto-promote-nonlocal-transactions-to-global"><strong>--auto-promote-nonlocal-transactions-to-global</strong></h5>
<p>如果为true，则在访问本地区域以外的数据时，使用system.transactions以外的事务状态表的本地事务，将自动升级为使用system.transactions 事务状态表的全局事务。
默认值：true</p>
<h4 id="xdcr"><strong>xDCR标志</strong></h4>
<p>与管理xDCR相关的设置。 </p>
<h5 id="-xdcr_svc_queue_size"><strong>--xDCR_svc_queue_size</strong></h5>
<p>xDCR服务的RPC队列大小。应与用于读取和写入请求的tablet_server_svc_queue_length的大小相匹配。
默认值：5000</p>
<h4 id="api"><strong>API标志</strong></h4>
<h5 id="bsql_1"><strong>BSQL</strong></h5>
<p>以下为支持使用BSQL API的标志： </p>
<h6 id="-enable_bsql_1">--enable_bsql</h6>
<p>启用BSQL API
默认值：true</p>
<p>确保bm-dbserver配置中的enable_bsql值与bm-mserver配置中的值匹配。</p>
<h6 id="-sql_enable_auth">--sql_enable_auth</h6>
<p>启用BSQL身份认证
当启用BSQL身份认证时，可以使用默认密码为biginsights，默认用户为biginsights，登录到sqlsh。
默认值：false</p>
<h6 id="-bsql_enable_profile">--bsql_enable_profile</h6>
<p>启用BSQL登录配置文件。</p>
<p>启用BSQL登录配置文件后，可以设置用户登录失败次数的限制。</p>
<p>默认值：false</p>
<h6 id="-pgsql_proxy_bind_address">--pgsql_proxy_bind_address</h6>
<p>指定BSQL API的TCP/IP绑定地址。默认值为0.0.0.0:2521，允许侦听所有IPv4地址访问localhost上的端口2521。--pgsql_proxy_bind_address值覆盖控制哪些接口接受连接尝试的listen_address（默认值127.0.0.1:2521）。</p>
<p>要指定可以访问服务器的细粒度访问控制，请使用--bsql_hba_conf_csv。 </p>
<p>默认值：0.0.0.0:2521</p>
<h6 id="-pgsql_proxy_webserver_port">--pgsql_proxy_webserver_port</h6>
<p>指定监听BSQL的web服务器端口。</p>
<p>默认值：8100</p>
<h6 id="-bsql_hba_conf_csv">--bsql_hba_conf_csv</h6>
<p>指定写入bsql_hba.conf文件的PostgreSQL客户端身份验证设置的逗号分隔列表。要查看bsql_hba.conf文件中的当前值，请运行SHOW hba_file；然后查看文件内容。由于文件是自动生成的，因此自动生成的内容会覆盖直接编辑的内容。
有关使用--bsql_hba_conf.csv指定客户端身份验证的详细信息，请参阅基于主机的身份验证。
如果设置包含逗号（，）或双引号（“），则该设置应包含在双引号中。此外，带引号文本中的双引号应加倍（“”）。
假设有如下两个配置内容：
host all all 127.0.0.1/0 password 
host all all 0.0.0.0/0 ldap ldapserver=***** ldapsearchattribute=cn ldapport=3268 ldapbinddn=***** ldapbindpasswd="*****"</p>
<p>由于在第二个配置内容中，其中的一个设置被双引号（“）引起，因此按照规则，需要将引号加倍，并将整个配置内容用引号括起来，如下所示：
 "host all all 0.0.0.0/0 ldap ldapserver=***** ldapsearchattribute=cn ldapport=3268 ldapbinddn=***** ldapbindpasswd=""*****"""
要设置标志，请使用逗号（，）连接配置项，并将最终标志值用单引号（'）括起来，如下所示：
--bsql_hba_conf_csv='host all all 127.0.0.1/0 password,"host all all 0.0.0.0/0 ldap ldapserver=***** ldapsearchattribute=cn ldapport=3268 ldapbinddn=***** ldapbindpasswd=""*****""" '</p>
<p>默认值："host all all 0.0.0.0/0 trust,host all all ::0/0 trust"</p>
<h6 id="-bsql_pg_conf_csv">--bsql_pg_conf_csv</h6>
<p>追加到postgresql.conf文件的PostgreSQL服务器配置参数的逗号分隔列表。</p>
<p>例如：</p>
<div class="highlight"><pre><span></span><code>--bsql_pg_conf_csv=&quot;suppress_nonpg_logs=true,log_connections=on&quot;
</code></pre></div>
<p>有关PostgreSQL服务器配置参数的信息，请参阅PostgreSQL文档中的服务器配置部分。
AiSQL的服务器配置参数与PostgreSQL的相同，只是有一些小的例外。参考<a href="#_PostgreSQL服务器选项">PostgreSQL服务器选项</a>。</p>
<h6 id="-bsql_timezone">--bsql_timezone</h6>
<p>指定用于显示和解释时间戳的时区。
默认值：使用BSQL时区</p>
<h6 id="-bsql_datestyle">--bsql_datestyle</h6>
<p>指定数据和时间值的显示格式。
默认值：使用BSQL显示格式</p>
<h6 id="-bsql_max_connections">--bsql_max_connections</h6>
<p>指定并发BSQL连接的最大数目。
默认值：超级用户为300。非超级用户角色只能看到可供使用的连接，而超级用户可以看到所有连接，包括为超级用户保留的连接</p>
<h6 id="-bsql_default_transaction_isolation">--bsql_default_transaction_isolation</h6>
<p>指定默认事务隔离级别。
有效的值为：SERIALIZABLE，REPEATABLE READ，READ COMMITTED，和READ UNCOMMITTED。</p>
<p>默认值：READ COMMITTED</p>
<p>注：Read Committed支持目前处于测试版。只有当bm-dbserver标志bi_enable_read_committed_isolation设置为true时，才支持Read Committed隔离级别。默认情况下，此标志为false，在这种情况下，AiSQL事务层的Read Committed隔离级别回落到更严格的Snapshot隔离级别（在这种情况中，BSQL的READ COMMITTED 和READ UNCOMMITTED也依次使用Snapshot隔离级别）。</p>
<h6 id="-bsql_disable_index_backfill">--bsql_disable_index_backfill</h6>
<p>将此标志设置为false可启用联机索引回填。当设置为false时，联机索引构建将在联机时运行，而不会导致其他并发写入失败。</p>
<p>有关联机索引回填工作方式的详细信息，请参阅联机索引回填设计文档。
默认值：false</p>
<h6 id="-bsql_sequence_cache_method">--bsql_sequence_cache_method</h6>
<p>指定缓存序列值的位置。
有效的值是：connection 和server
此标志要求bm-dbserver 的bi_enable_sequence_pushdown标志为true（默认值）。否则，无论此标志的值如何，都将发生默认行为。
有关在服务器上缓存值和缓存方法之间切换的详细信息，请参阅nextval。</p>
<p>默认值：connection</p>
<h6 id="-bsql_sequence_cache_minval">--bsql_sequence_cache_minval</h6>
<p>为每个序列对象指定要缓存在客户端中的序列值的最小数目。
若要关闭缓存的默认大小标志，请将该标志设置为0。
有关与序列缓存子句一起使用时的预期行为的详细信息，请参阅CREATE SEQUENCE和ALTER SEQUEQUENCE。</p>
<p>默认值：100</p>
<h6 id="-bsql_log_statement">--bsql_log_statement</h6>
<p>指定应记录的BSQL语句的类型。</p>
<p>有效值：none（off）、ddl（仅数据定义查询，如create/alter/drop）、mod（所有修改/写入语句，包括ddl加上insert/update/delete/trunctate等）和all（所有语句）。 </p>
<p>默认值：none</p>
<h6 id="-bsql_log_min_duration_statement">--bsql_log_min_duration_statement</h6>
<p>记录运行指定时间（以毫秒为单位）或更长时间以上的SQL语句。将值设置为0将打印所有语句持续时间。您可以使用此标志来帮助跟踪未优化（或“慢查询”）的查询。
默认值：-1（禁用日志记录语句持续时间）</p>
<h6 id="-bsql_log_min_messages">--bsql_log_min_messages</h6>
<p>指定要记录的最低BSQL消息级别
有效值：info, notice, warning, error, log, fatal</p>
<p>默认值：warning</p>
<h5 id="bcql"><strong>BCQL</strong></h5>
<p>以下为支持使用BCQL API的标志： </p>
<h6 id="-use_cassandra_authentication">--use_cassandra_authentication</h6>
<p>指定true可启用BCQL身份验证（用户名和密码），启用BCQL安全语句（CREATE ROLE、DROP ROLE、GRANT ROLE、REVOKE ROLE、GRANT PERMISSION和REVOKE PERMISSION），并强制执行BCQL语句的权限。 
默认值：false</p>
<h6 id="-cql_proxy_bind_address">--cql_proxy_bind_address</h6>
<p>指定绑定BCQL API的绑定地址
默认值：0.0.0.0:9542 (127.0.0.1:9542)</p>
<h6 id="-cql_proxy_webserver_port">--cql_proxy_webserver_port</h6>
<p>指定监听BCQL的web服务器端口。
默认值：8200</p>
<h6 id="-cql_table_is_transactional_by_default">--cql_table_is_transactional_by_default</h6>
<p>指定是否在创建BCQL表时默认启用事务。
默认值：false</p>
<h6 id="-bcql_disable_index_backfill">--bcql_disable_index_backfill</h6>
<p>将此标志设置为false可启用联机索引回填。当设置为false时，联机索引构建将在联机时运行，而不会导致其他并发写入失败。</p>
<p>有关联机索引回填工作方式的详细信息，请参阅联机索引回填设计文档。</p>
<p>默认值：true</p>
<h6 id="-bcql_require_drop_privs_for_truncate">--bcql_require_drop_privs_for_truncate</h6>
<p>将此标志设置为true可拒绝TRUNCATE语句，除非DROP TABLE权限允许。
默认值：false</p>
<h6 id="-bcql_enable_audit_log">--bcql_enable_audit_log</h6>
<p>将此标志设置为true，可启用审核日志记录。
有关详细信息，请参阅BQL API的审核日志记录。 </p>
<p>默认值：false</p>
<h6 id="-bcql_allow_non_authenticated_password_reset">--bcql_allow_non_authenticated_password_reset</h6>
<p>将此标志设置为true，可使超级用户重置密码。 
默认值：false</p>
<p>请注意，要启用密码重置功能，必须首先将use_cassandra_authentication标志设置为false</p>
<h5 id="bedis"><strong>BEDIS</strong></h5>
<p>以下为支持使用BEDIS API的标志： </p>
<h6 id="-redis_proxy_bind_address">--redis_proxy_bind_address</h6>
<p>指定绑定BEDIS API的绑定地址</p>
<p>默认值：0.0.0.0:6879</p>
<h6 id="-redis_proxy_webserver_port">--redis_proxy_webserver_port</h6>
<p>指定监听BEDIS 的web服务器端口。
默认值：8300</p>
<h4 id="_20"><strong>性能标志</strong></h4>
<h5 id="-enable_ondisk_compression"><strong>--enable_ondisk_compression</strong></h5>
<p>开启SSTable压缩
默认值：true</p>
<h5 id="-compression_type"><strong>--compression_type</strong></h5>
<p>更改SSTable 压缩类型。有效的压缩类型有Snappy、Zlib、LZ4和NoCompression
默认值：Snappy</p>
<p>如果选择了一个无效的选项，集群将不会相应。
如果更改此标志，则更改将在重新启动群集节点后生效。
支持在现有数据库上更改此标志；分片可以有效地具有不同压缩类型的SST。最终，压缩将删除旧的压缩类型文件。</p>
<h5 id="-regular_tablets_data_block_key_value_encoding"><strong>--regular_tablets_data_block_key_value_encoding</strong></h5>
<p>在RocksDB中的数据块，使用键-值编码。可能的选项有：shared_prefix、three_shared_parts。
默认值：three_shared_parts</p>
<h5 id="-rocksdb_compact_flush_rate_limit_bytes_per_sec"><strong>--rocksdb_compact_flush_rate_limit_bytes_per_sec</strong></h5>
<p>用于控制内存存储刷新和SSTable文件压缩的速率。
默认值：1GB (1 GB/秒)</p>
<h5 id="-rocksdb_universal_compaction_min_merge_width"><strong>--rocksdb_universal_compaction_min_merge_width</strong></h5>
<p>只有当至少有符合rocksdb_universal_compaction_min_merge_width条件的文件，并且它们的运行总大小（到目前为止考虑的文件大小的总和），在考虑包含在同一压缩中的下一个文件的rocksdb_universal_compaction_size_ratio内时，才会进行压缩。
默认值：4</p>
<h5 id="-rocksdb_max_background_compactions"><strong>--rocksdb_max_background_compactions</strong></h5>
<p>执行后台压缩的最大线程数（在压缩需要追赶时使用）。除非rocksdb_disable_compactions=true，否则不能将其设置为零。
默认值：-1（该值在运行时计算）。
对于最多具有4个CPU核心的服务器，默认值被视为1。
对于最多具有8个CPU核心的服务器，默认值被视为2。
对于最多具有32个CPU核心的服务器，默认值被视为3。
超过32个核心，默认值为4</p>
<h5 id="-rocksdb_compaction_size_threshold_bytes"><strong>--rocksdb_compaction_size_threshold_bytes</strong></h5>
<p>超过该阈值，压缩被视为较大。
默认值：2GB</p>
<h5 id="-rocksdb_level0_file_num_compaction_trigger"><strong>--rocksdb_level0_file_num_compaction_trigger</strong></h5>
<p>触发0级压缩的文件数。如果压缩根本不应该由文件数触发，则设置为-1。
默认值：5</p>
<h5 id="-rocksdb_universal_compaction_size_ratio"><strong>--rocksdb_universal_compaction_size_ratio</strong></h5>
<p>只有当至少有符合rocksdb_universal_compaction_min_merge_width条件的文件，并且它们的运行总大小（到目前为止考虑的文件大小的总和）在考虑包含在同一压缩中的下一个文件的rocksdb_universal_compaction_size_ratio内时，才会运行压缩。
默认值：20</p>
<h5 id="-timestamp_history_retention_interval_sec"><strong>--timestamp_history_retention_interval_sec</strong></h5>
<p>保留历史/旧版本数据的时间间隔（以秒为单位）。压缩后可能不允许在此间隔之前的混合时间进行时间点读取，并返回快照太旧的错误。应将其设置为大于应用程序中任何单个事务的预期最长持续时间。
默认值：900 (15 分钟)</p>
<h5 id="-remote_bootstrap_rate_limit_bytes_per_sec"><strong>--remote_bootstrap_rate_limit_bytes_per_sec</strong></h5>
<p>所有分片的速率控制，都是从该进程远程引导，或远程引导到该进程的。
默认值：256MB (256 MB/秒)</p>
<h4 id="_21"><strong>网络压缩标志</strong></h4>
<h5 id="-enable_stream_compression"><strong>--enable_stream_compression</strong></h5>
<p>控制AiSQL是否使用RPC压缩。
默认值：true</p>
<h5 id="-stream_compression_algo"><strong>--stream_compression_algo</strong></h5>
<p>指定要使用的RPC压缩算法。要求将enable_stream_compression设置为true。有效值为：
0: No compression (默认值)
1: Gzip
2: Snappy
3: LZ4</p>
<p>在大多数情况下，LZ4提供了压缩性能与CPU开销之间的最佳折衷。
要从不支持RPC压缩的旧版本（如2.4），升级到支持RPC压缩（如2.6）的新版本，您需要执行以下操作：</p>
<ul>
<li>滚动重启，将AiSQL升级到支持压缩的版本。</li>
<li>通过设置enable_stream_compression=true，在bm-mserver和bm-dbserver上滚动重启，以启用压缩。
  请注意，如果您要升级到的AiSQL版本在默认情况下已经启用了压缩，则可以省略此步骤。</li>
<li>滚动重启可在bm-mserver和bm-dbserver上设置要使用的压缩算法，例如通过设置stream_compression_algo=3。</li>
</ul>
<h4 id="_22"><strong>安全标志</strong></h4>
<p>有关启用服务器到服务器加密的详细信息，请参见服务器到服务器加密</p>
<h5 id="-certs_dir_1"><strong>--certs_dir</strong></h5>
<p>包含此服务器的证书颁发机构、私钥和证书的目录。
默认值："" (\&lt;data drive&gt;/bm-data/mserver/data/certs.)</p>
<h5 id="-allow_insecure_connections_1"><strong>--allow_insecure_connections</strong></h5>
<p>允许不安全的连接。设置为false可防止任何通信未加密的进程加入群集。请注意，此标志要求启用use_node_to_node_encryption，并启用use_client_to_server_encryption 。
默认值：true</p>
<h5 id="-certs_for_client_dir"><strong>--certs_for_client_dir</strong></h5>
<p>包含此服务器的证书颁发机构、私钥和证书的目录，这些证书应用于客户端到服务器的通信。</p>
<p>默认值："" (使用与服务器到服务器通信相同的目录。)</p>
<h5 id="-dump_certificate_entries_1"><strong>--dump_certificate_entries</strong></h5>
<p>添加证书条目，包括IP地址和主机名，记录握手错误消息。启用此标志有助于调试证书问题。
默认值：false</p>
<h5 id="-use_client_to_server_encryption"><strong>--use_client_to_server_encryption</strong></h5>
<p>客户端到服务器进行加密。
默认值：false</p>
<h5 id="-use_node_to_node_encryption_1"><strong>--use_node_to_node_encryption</strong></h5>
<p>在集群的mserver和dbserver服务器之间，启用服务器到服务器，或者节点到节点的加密。为了正常工作，所有mserver服务器还必须启用其 --use_node_to_node_encryption标志。启用时，必须禁用--allow_insecure_connections标志。
默认值：false</p>
<h5 id="-cipher_list_1"><strong>--cipher_list</strong></h5>
<p>为TLS 1.2及更早版本指定密码列表。（对于TLS 1.3，请使用--ciphersuite。）按首选项顺序使用以冒号分隔的TLS 1.2密码名称列表。使用感叹号（！）排除密码。例如：
--cipher_list DEFAULTS:!DES:!IDEA:!3DES:!RC2</p>
<p>这允许TLS 1.2的所有密码都被接受，除了那些与省略的密码类别匹配的密码。
此标志需要重新启动或滚动重新启动。</p>
<p>默认值：DEFAULTS</p>
<h5 id="-ciphersuite_1"><strong>--ciphersuite</strong></h5>
<p>指定TLS 1.3的密码列表。对于TLS 1.2及更早版本，请使用--cipher_list。
按照首选项的顺序使用以冒号分隔的TLS 1.3密码套件名称列表。使用感叹号（！）排除密码。例如：
--ciphersuite DEFAULTS:!CHACHA20</p>
<p>这允许接受TLS 1.3的所有密码套件，但CHACHA20密码除外。
此标志需要重新启动或滚动重新启动。</p>
<p>默认值：DEFAULTS</p>
<h5 id="-ssl_protocols"><strong>--ssl_protocols</strong></h5>
<p>为AiSQL的内部RPC通信指定TLS协议的显式允许列表。
默认值：空字符串，相当于允许除“ssl2”和“ssl3”之外的所有协议。</p>
<p>可以传递一个以逗号分隔的字符串列表，其中的字符串可以是“ssl2”、“ssl3”、“tls10”、“ttls11”、“tls12”和“tls13”之一。</p>
<p>可以设置节点到节点和客户端节点通信的TLS版本。要强制执行TLS 1.2，请将标志设置为tls12，如下所示： </p>
<p>--ssl_protocols = tls12</p>
<p>要指定1.2的最低TLS版本，需要将标志设置为tls12、tls13，以及所有可用的后续版本，如下所示：</p>
<p>--ssl_protocols = tls12,tls13</p>
<p>此外，由于此设置不会传到PostgreSQL，建议通过如下设置bsql_pg_conf_csv标志，来指定PostgreSQL的最低TLS版本（ssl_min_procol_version）：
--bsql_pg_conf_csv="ssl_min_protocol_version=TLSv1.2"</p>
<h4 id="_23"><strong>压缩行标志（测试版）</strong></h4>
<p>要了解压缩行功能，请参阅体系结构部分中的压缩行格式内容</p>
<h5 id="-bsql_enable_packed_row"><strong>--bsql_enable_packed_row</strong></h5>
<p>是否为BSQL启用了压缩行
默认值：false</p>
<h5 id="-bsql_packed_row_size_limit"><strong>--bsql_packed_row_size_limit</strong></h5>
<p>BSQL的压缩行大小限制。默认值为0（使用块大小作为限制）。对于超过此大小限制的行，将打包尽可能多的列，其余的列则做为单独的键值对存储。 
默认值：0</p>
<h5 id="-bcql_enable_packed_row"><strong>--bcql_enable_packed_row</strong></h5>
<p>是否为BCQL启用了压缩行
默认值：false</p>
<h5 id="-bcql_packed_row_size_limit"><strong>--bcql_packed_row_size_limit</strong></h5>
<p>BCQL的压缩行大小限制。默认值为0（使用块大小作为限制）。对于超过此大小限制的行，将打包尽可能多的列，其余的列则做为单独的键值对存储。
默认值：0</p>
<h5 id="-bsql_enable_packed_row_for_colocated_table"><strong>--bsql_enable_packed_row_for_colocated_table</strong></h5>
<p>是否为BSQL中的<a href="#_共用表（colocated table）">共址表(colocated table)</a>启用了压缩行。
默认值：false</p>
<h4 id="cdc_1"><strong>更改数据捕获（CDC）标志</strong></h4>
<p>对于更改数据捕获（CDC）的更多详细信息，请参见更改数据捕获（CDC）。</p>
<h5 id="-cdc_state_checkpoint_update_interval_ms"><strong>--cdc_state_checkpoint_update_interval_ms</strong></h5>
<p>CDC状态检查点的更新速率。
默认值：15000</p>
<h5 id="-cdc_biclient_reactor_threads"><strong>--cdc_biclient_reactor_threads</strong></h5>
<p>用于处理biclient对CDC的请求的反应器线程数。增大值可以提高对大的分片设置的吞吐量。
默认值：50</p>
<h5 id="-cdc_max_stream_intent_records"><strong>--cdc_max_stream_intent_records</strong></h5>
<p>单个CDC批次中允许的最大意向记录数。
默认值：1000</p>
<h5 id="-cdc_snapshot_batch_size"><strong>--cdc_snapshot_batch_size</strong></h5>
<p>在CDC的快照操作的单个批次中获取的记录数。
默认值：250</p>
<h5 id="-cdc_min_replicated_index_considered_stale_secs"><strong>--cdc_min_replicated_index_considered_stale_secs</strong></h5>
<p>如果cdc_min_replicated_index在这段时间内没有被复制，我们将其值重置为max int64，以避免保留任何日志。
默认值：900 (15分钟)</p>
<h5 id="-timestamp_history_retention_interval_sec_1"><strong>--timestamp_history_retention_interval_sec</strong></h5>
<p>保留历史记录或旧版本数据的时间间隔（以秒为单位）。
默认值：900 (15分钟)</p>
<h5 id="-update_min_cdc_indices_interval_secs"><strong>--update_min_cdc_indices_interval_secs</strong></h5>
<p>设置多长时间读取一次cdc_state表，来获得所有流中每个分片的最小应用索引。此信息用于正确保存包含未应用条目的日志文件。这也是在所有流中的分片最小复制索引发送到配置中其它对等端的速率。如果禁用了标志enable_log_retention_by_op_idx（默认值：true），则此标志无效。
默认值：60</p>
<h5 id="-cdc_checkpoint_opid_interval_ms"><strong>--cdc_checkpoint_opid_interval_ms</strong></h5>
<p>客户端可以关闭的时间（毫秒为单位），并且将保留目标。这意味着，如果客户端没有为此间隔更新检查点，则将被做为垃圾回收。
默认值：60000</p>
<p>警告：
如果使用多个流，建议将此标志设置为1800000（30分钟）。 </p>
<h5 id="-log_max_seconds_to_retain"><strong>--log_max_seconds_to_retain</strong></h5>
<p>保留日志文件的秒数。早于此值的日志文件将被删除，即使它们包含未复制的CDC条目。如果为0，则将忽略此标志。如果日志段包含尚未刷新到RocksDB的条目，则会忽略此标志。
默认值：86400</p>
<h5 id="-log_stop_retaining_min_disk_mb"><strong>--log_stop_retaining_min_disk_mb</strong></h5>
<p>如果日志的可用空间低于此限制（以MB为单位），则停止保留日志。与log_max_seconds_to_retain一样，如果日志段包含未刷新的事项，则会忽略此标志。
默认值：102400</p>
<h5 id="-enable_delete_truncate_cdcsdk_table"><strong>--enable_delete_truncate_cdcsdk_table</strong></h5>
<p>默认情况下，CDCSDK流处于活动状态的表上的TRUNCATE命令将失败。将此标志的值从false更改为true将能够截断CDCSDK流的表部分。
默认值：false</p>
<h5 id="-cdc_intent_retention_ms"><strong>--cdc_intent_retention_ms</strong></h5>
<p>定义一个以毫秒为单位的时间段，在此时间段之后，如果没有针对更改记录的客户端轮询，则将清除事项。
默认值：14400000 (4 小时)</p>
<h5 id="-enable_update_local_peer_min_index"><strong>--enable_update_local_peer_min_index</strong></h5>
<p>允许每个本地对等点更新其自己的日志检查点，而不是由leader更新所有对等点。 
默认值：false</p>
<h4 id="ttl"><strong>基于TTL的文件过期标志</strong></h4>
<h5 id="-tablet_enable_ttl_file_filter"><strong>--tablet_enable_ttl_file_filter</strong></h5>
<p>打开TTL的文件过期功能。
默认值：false</p>
<h5 id="-rocksdb_max_file_size_for_compaction"><strong>--rocksdb_max_file_size_for_compaction</strong></h5>
<p>对于具有default_time_to_live表属性的表，设置不再考虑压缩文件的大小阈值。超过此阈值的文件仍将被视为过期文件。如果值为0，则禁用。
理想情况下，rocksdb_max_file_size_for_compaction应该在以合理频率过期数据，和不创建太多SST文件（这可能会影响读取性能）之间取得平衡。例如，如果存储了90天的数据，请考虑将此标志设置为大约一天的数据大小。
默认值：0</p>
<h5 id="-sst_files_soft_limit"><strong>--sst_files_soft_limit</strong></h5>
<p>每个分片的SST文件数的阈值。超过此值时，将限制对分片的写入，直到文件数量减少为止。
默认值：24</p>
<h5 id="-sst_files_hard_limit"><strong>--sst_files_hard_limit</strong></h5>
<p>每个分片的SST文件数的阈值。如果超过，则在文件数量减少之前，将不再允许写入分片。
默认值：48</p>
<h5 id="-file_expiration_ignore_value_ttl"><strong>--file_expiration_ignore_value_ttl</strong></h5>
<p>如果设置为true，则在确定文件过期时，忽略任何值级别的TTL元数据。在某些SST文件缺少必要的值级元数据的情况下很有用（例如，在升级的情况下）。
默认值：false
警告：使用此标志可能会导致实时数据过期。请自行决定使用。 </p>
<h5 id="-file_expiration_value_ttl_overrides_table_ttl"><strong>--file_expiration_value_ttl_overrides_table_ttl</strong></h5>
<p>当设置为true时，允许文件完全根据其值级别的TTL过期时间而过期（即使它低于表TTL）。这对于文件需要在其表级TTL允许的时间之前过期的情况很有帮助。如果没有值级TTL元数据可用，则仍将使用表级TTL。</p>
<p>默认值：false
警告：使用此标志可能会导致实时数据过期。请自行决定使用。 </p>
<h4 id="postgresql"><strong>PostgreSQL服务器选项</strong></h4>
<p>AiSQL使用PostgreSQL服务器配置参数，应用服务器配置设置到新的服务器实例上。</p>
<p>可以通过以下方式修改这些参数：</p>
<ul>
<li>使用<a href="#_--bsql_pg_conf_csv">bsql_pg_conf_csv</a>标志</li>
<li>对于每一个数据库进行设置：
  ALTER DATABASE database_name SET temp_file_limit=-1;</li>
<li>对于每一个角色进行设置：
  ALTER ROLE role_tester SET temp_file_limit=-1;
  注意：在角色或数据库级别设置参数时，必须打开一个新会话才能使更改生效。</li>
<li>对于当前会话进行设置：
  SET temp_file_limit=-1;
  或者
  SET SESSION temp_file_limit=-1;</li>
</ul>
<p>注意：
如果SET发生在事务中，而此事务因为某些问题被中止后，则当事务被回滚时，SET命令产生的效果也会回到之前的效果。
如果事务提交，则影响将持续整个会话。</p>
<ul>
<li>对于当前事务进行设置：
  Begin；
  ...
  SET LOCAL temp_file_limit=-1;</li>
</ul>
<p>有关可用的PostgreSQL服务器配置参数的信息，请参阅PostgreSQL文档中的服务器配置部分。AiSQL的服务器配置参数与PostgreSQL的相同，新增或者不同的参数如下所示：</p>
<h5 id="log_line_prefix"><strong>log_line_prefix</strong></h5>
<p>AiSQL支持log_line_prefix参数的以下附加选项：
    %C = cloud名
    %R = 区域名或者数据中心名
    %Z = availability zone / rack name有效的地区或者机架名
    %U = 集群 UUID
    %N = 节点或者集群名
    %H = 当前主机名</p>
<p>有关使用log_line_prefix的信息，请参阅PostgreSQL文档中的log_line_prefix部分。</p>
<h5 id="suppress_nonpg_logs-boolean"><strong>suppress_nonpg_logs (boolean)</strong></h5>
<p>设置后，禁止将非PostgreSQL输出记录到dbserver/logs目录中的PostgreSQL日志文件中。
默认值：关闭</p>
<h5 id="temp_file_limit"><strong>temp_file_limit</strong></h5>
<p>指定用于每个BSQL连接的临时文件，例如排序和Hash临时文件等占用的磁盘空间大小。
当任何磁盘空间使用大小超过temp_file_limit的查询都将被终止，并显示错误，ERROR：temporary file size exceeds temp_file_limit。
请注意，临时表不计入此限制。
可以使用temp_file_limit=-1删除该限制（将大小设置为无限制）。
此参数的有效值为：-1（无限制）、integer（以KB为单位）、nMB（以MB为单位）和nGB（以GB为单位）（其中“n”是整数）。</p>
<p>默认值：1GB</p>
<h4 id="_24"><strong>示例</strong></h4>
<div class="highlight"><pre><span></span><code>./bm-dbserver \
--dbserver_mserver_addrs 10.0.0.1:11000,10.0.0.2:11000,10.0.0.3:11000 \
--rpc_bind_addresses 10.0.0.1 \
--enable_bsql \
--fs_data_dirs &quot;/home/centos/disk1,/home/centos/disk2&quot; &amp;
</code></pre></div>
<h4 id="_25"><strong>管理用户界面</strong></h4>
<p>bm-dbserver的管理用户界面，可访问http://localhost:20000（默认值）</p>
<h5 id="_26"><strong>主页</strong></h5>
<p>bm-dbserver（bm-dbserver）的主页，提供了指定实例的高级概述信息。</p>
<p><img alt="" src="media/chapter9/41.png" /></p>
<h5 id="_27"><strong>表</strong></h5>
<p>集群中存在的表信息列表。</p>
<p><img alt="" src="media/chapter9/42.png" /></p>
<h5 id="tiles"><strong>分片（Tiles）</strong></h5>
<p>列出集群中存在的所有分片信息</p>
<p><img alt="" src="media/chapter9/43.png" /></p>
<h5 id="_28"><strong>工具</strong></h5>
<p>列出集群的所有可用工具，用以调试性能。</p>
<p><img alt="" src="media/chapter9/44.png" /></p>
<h3 id="bm-ctl"><strong>bm-ctl</strong></h3>
<p>AiSQL使用双服务器架构，DBServers管理数据，MServers管理元数据。 然而，这可能会给想要立即开始的新用户带来负担。 要管理 AiSQL，您可以使用 bm-ctl。 bm-ctl 充当 DBServer 和 MServers 服务器之间的父服务器。 bm-ctl 还提供了类似于 AiSQL Anywhere UI 的 UI，带有数据放置图和指标仪表板。</p>
<p>bm-ctl 可执行文件位于 AiSQL 主目录的 bin 目录中。</p>
<h4 id="_29"><strong>语法</strong></h4>
<div class="highlight"><pre><span></span><code>bm-ctl [-h] [ &lt;command&gt; ] [ &lt;flags&gt; ]
</code></pre></div>
<ul>
<li>命令：运行的命令</li>
<li>flags：一个或多个标志，以空格分隔。</li>
</ul>
<p><strong>示例</strong></p>
<div class="highlight"><pre><span></span><code>$ ./bin/bm-ctl start
</code></pre></div>
<p><strong>在线帮助</strong>
您可以通过从 AiSQL 主目录运行以下示例之一来访问 bm-ctl 的命令行帮助：</p>
<div class="highlight"><pre><span></span><code>$ ./bin/bm-ctl -h
</code></pre></div>
<div class="highlight"><pre><span></span><code>$ ./bin/bm-ctl -help
</code></pre></div>
<p>如需特定 bm-ctl 命令的帮助，请运行“bm-ctl [ command ] -h”。 例如，您可以通过运行以下命令来打印 bm-ctl start 命令的命令行帮助：</p>
<div class="highlight"><pre><span></span><code>$ ./bin/bm-ctl start -h
</code></pre></div>
<h4 id="_30"><strong>命令</strong></h4>
<p>可以使用以下命令：</p>
<ul>
<li>start</li>
<li>configure</li>
<li>cert</li>
<li>stop</li>
<li>destroy</li>
<li>status</li>
<li>version</li>
<li>collect_logs</li>
<li>connect</li>
<li>demo</li>
</ul>
<h5 id="start"><strong>start</strong></h5>
<p>使用 bm-ctl start 命令启动单节点 AiSQL 集群，以便在本地环境中运行 BSQL 和 BCQL 工作负载。</p>
<p>请注意，要使用传输中加密，必须在节点上安装 OpenSSL。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl start [flags]
</code></pre></div>
<p>示例：
创建本地单节点集群：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start
</code></pre></div>
<p>创建具有传输加密和身份验证的本地单节点集群：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure
</code></pre></div>
<p>在本地创建一个单节点并加入属于同一集群的其他节点：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --join=host:port,[host:port]
</code></pre></div>
<p><strong>2.标志</strong>
-h | --help
打印命令行帮助并退出。</p>
<p>--advertise_address bind-ip
bm-ctl 将侦听的 IP 地址或本地主机名。</p>
<p>--join mserver-ip
新 bm-ctl 服务器将加入的现有 bm-ctl 服务器的 IP 地址，或者如果服务器重新启动，则重新加入。</p>
<p>--config config-file
bm-ctl 配置文件路径。 请参阅高级标志。</p>
<p>--base_dir base-directory
bm-ctl 存储数据、配置和日志的目录。 必须是绝对路径。</p>
<p>--data_dir data-directory
bm-ctl 存储数据的目录。 必须是绝对路径。 可以配置到与存储配置和日志的目录不同的目录。</p>
<p>--log_dir log-directory
存储 bm-ctl 日志的目录。 必须是绝对路径。 该标志控制 AiSQL 节点的日志存储位置。 默认情况下，日志写入~/var/logs。</p>
<p>--background bool
启用或禁用在后台作为守护进程运行 bm-ctl。 重新启动后不会持续存在。 默认值：true</p>
<p>--cloud_location cloud-location
bm-ctl 节点的云位置，格式为 cloudprovider.region.zone。 此信息用于 AiSQL 集群的多专区、多区域和多云部署。</p>
<p>--fault_tolerance fault_tolerance
确定应用于 AiSQL 集群的数据放置策略的容错约束。 该标志可以接受以下值：none、zone、region、cloud。</p>
<p>--ui bool
启用或禁用网络服务器 UI（可从 http://localhost:12521 获取）。 默认值：true</p>
<p>--secure
启用节点的传输加密和身份验证。
传输中加密需要集群中每个节点的 SSL/TLS 证书。</p>
<ul>
<li>启动本地单节点集群时，会自动为集群生成证书。</li>
<li>在多节点集群中部署节点时，需要使用 --certgenerate_server_certs 命令为节点生成证书，并在使用 --secure 标志启动节点之前将其复制到节点，否则节点创建将失败 失败。</li>
</ul>
<p>启用身份验证后，BSQL 中默认用户为 bigmath，BCQL 中默认用户为 cassandra。 当集群启动时，bm-ctl 输出一条消息 Credentials File is storage at <credentials_file_path.txt> 以及凭证文件位置。
创建安全的本地多节点、多可用区、多区域集群的示例，请参阅示例。</p>
<p><strong>3.高级标志</strong>
可以使用 --config 标志中的配置文件来设置高级标志。 启动命令的高级标志支持如下：</p>
<p>--bcql_port bcql-port
BCQL 将运行的端口。</p>
<p>--bsql_port bsql-port
BSQL 将运行的端口。</p>
<p>---mserver_rpc_port mserver-rpc-port
MServer 将侦听 RPC 调用的端口。</p>
<p>--dbserver_rpc_port
DBServer 将侦听 RPC 调用的端口。</p>
<p>--mserver_webserver_port
MServer Web 服务器将运行的端口。</p>
<p>--dbserver_webserver_port
DBServer Web 服务器将运行的端口。</p>
<p>--webserver_port
主web服务器将运行的端口。</p>
<p>--callhome bool
启用或禁用将分析数据发送到 bigmath 的回拨功能。 默认值：true。</p>
<p>--mserver_flags
将额外的mserver标志指定为一组键值对。 格式（键=值，键=值）。</p>
<p>--dbserver_flags
将额外的 dbserver 标志指定为一组键值对。 格式（键=值，键=值）。</p>
<p>--sql_enable_auth bool
启用或禁用 BSQL 身份验证。 默认值：假。
如果 BSQL_PASSWORD 环境变量存在，则身份验证模式将自动设置为 true。</p>
<p>--use_cassandra_authentication bool
启用或禁用 BCQL 身份验证。 默认值：假。
如果 BCQL_USER 或 BCQL_PASSWORD 环境变量存在，则身份验证模式将自动设置为 true。
请注意，相应的环境变量的优先级高于命令行标志。</p>
<p>--initial_scripts_dir initial-scripts-dir
bm-ctl 读取初始化脚本的目录。
脚本格式 - BSQL .sql、BCQL .cql。
初始化脚本按照排序的名称顺序执行。</p>
<p><strong>4.已弃用的标志</strong>
--daemon bool
启用或禁用在后台作为守护进程运行 bm-ctl。 重新启动后不会持续存在。 默认值：true。</p>
<p>--listen bind-ip
bm-ctl 将侦听的 IP 地址或本地主机名称。</p>
<h5 id="configure"><strong>configure</strong></h5>
<p>使用 bm-ctl configure 命令执行以下操作：</p>
<ul>
<li>配置集群的数据放置策略。</li>
<li>启用或禁用静态加密。</li>
</ul>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl configure [command] [flags]
</code></pre></div>
<p><strong>2.命令</strong>
以下子命令可用于 bm-ctl configure命令：</p>
<ul>
<li>data_placement</li>
<li>encrypt_at_rest</li>
</ul>
<p>（1）data_placement
使用 bm-ctl configure data_placement 子命令设置或修改已部署集群的节点的放置策略。</p>
<p>例如，您可以使用以下命令创建多区域 AiSQL 集群：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement --fault_tolerance=zone
</code></pre></div>
<p>（2）data_placement 标志
-h | --help
打印命令行帮助并退出。</p>
<p>--fault_tolerance fault-tolerance
指定集群的容错能力。 该标志可以接受以下值之一：可用区、区域、云。 例如，当该标志设置为 zone (--fault_tolerance=zone) 时，bm-ctl 会将区域容错应用于集群，将节点放置在三个不同的区域中（如果可用）。</p>
<p>--constraint_value data-placement-constraint-value
指定 AiSQL 集群的数据放置。 这是一个可选标志。 该标志采用格式为 cloud.region.zone 的逗号分隔值。</p>
<p>--rf replication-factor
指定集群的复制因子。 这是一个可选标志，其值为 3 或 5。</p>
<p>--config config-file
bm-ctl 服务器的配置文件路径。</p>
<p>--data_dir data-directory
bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
bm-ctl 服务器的基本目录。</p>
<p>--log_dir log-directory
bm-ctl 服务器的日志目录。
<strong>（3）encrypt_at_rest</strong> 
使用 bm-ctl configure encrypt_at_rest 子命令为已部署的集群启用或禁用静态加密。</p>
<p>要使用静态加密，必须在节点上安装 OpenSSL。</p>
<p>例如，要为已部署的 AiSQL 集群启用静态加密，请执行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure encrypt_at_rest --enable
</code></pre></div>
<p>要为已启用静态加密的 AiSQL 集群禁用静态加密，请执行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure encrypt_at_rest --disable
</code></pre></div>
<p>（4）encrypt_at_rest标志
-h | --help
打印命令行帮助并退出。</p>
<p>--disable disable
禁用集群的静态加密。 无需为该标志设置值。 使用 --enable 或 --disable 标志来切换 AiSQL 集群上的加密功能。</p>
<p>--enable enable
为集群启用静态加密。 无需为该标志设置值。 使用 --enable 或 --disable 标志来切换 AiSQL 集群上的加密功能。</p>
<p>--config config-file
bm-ctl 服务器的配置文件路径。</p>
<p>--data_dir data-directory
bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
bm-ctl 服务器的基本目录。</p>
<p>--log_dir log-directory
bm-ctl 服务器的日志目录。</p>
<h5 id="cert"><strong>cert</strong></h5>
<p>使用 bm-ctl cert 命令创建 TLS/SSL 证书以部署安全的 AiSQL 集群。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl cert [command] [flags]
</code></pre></div>
<p><strong>2.命令</strong>
以下子命令可用于 bm-ctl cert 命令：
generate_server_certs</p>
<p>（1）generate_server_certs
使用 bm-ctl cert generate_server_certs 子命令为指定主机名生成密钥和证书。</p>
<p>例如，要为主机名 127.0.0.1、127.0.0.2、127.0.0.3 创建节点服务器证书，请执行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl cert generate_server_certs --hostnames=127.0.0.1,127.0.0.2,127.0.0.3
</code></pre></div>
<p><strong>3.标志</strong>
-h | --help
打印命令行帮助并退出。</p>
<p>--hostnames hostnames
要添加到集群中的节点的主机名。 强制标志。</p>
<p>--config config-file
bm-ctl 服务器的配置文件路径。</p>
<p>--data_dir data-directory
bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
bm-ctl 服务器的基本目录。</p>
<p>--log_dir log-directory
bm-ctl 服务器的日志目录。</p>
<h5 id="stop"><strong>stop</strong></h5>
<p>使用 bm-ctl stop 命令停止 AiSQL 集群。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl stop [flags]
</code></pre></div>
<p><strong>2.标志</strong>
--h | --help
打印命令行帮助并退出。</p>
<p>--config config-file
需要停止的bm-ctl服务器的配置文件路径。</p>
<p>--data_dir data-directory
需要停止的 bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
需要停止的 bm-ctl 服务器的基目录。</p>
<p>--log_dir log-directory
需要停止的 bm-ctl 服务器的日志目录。</p>
<h5 id="destroy"><strong>destroy</strong></h5>
<p>使用 bm-ctl destroy 命令删除集群。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl destroy [flags]
</code></pre></div>
<p><strong>2.标志</strong>
--h | --help
打印命令行帮助并退出。</p>
<p>--config config-file
需要停止的bm-ctl服务器的配置文件路径。</p>
<p>--data_dir data-directory
需要停止的 bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
需要停止的 bm-ctl 服务器的基目录。</p>
<p>--log_dir log-directory
需要停止的 bm-ctl 服务器的日志目录。</p>
<h5 id="status"><strong>status</strong></h5>
<p>使用 bm-ctl status 命令检查状态。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl status [flags]
</code></pre></div>
<p><strong>2.标志</strong>
--h | --help
打印命令行帮助并退出。</p>
<p>--config config-file
需要停止的bm-ctl服务器的配置文件路径。</p>
<p>--data_dir data-directory
需要停止的 bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
需要停止的 bm-ctl 服务器的基目录。</p>
<p>--log_dir log-directory
需要停止的 bm-ctl 服务器的日志目录。</p>
<h5 id="version"><strong>version</strong></h5>
<p>使用 bm-ctl version 命令查看版本号。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl version [flags]
</code></pre></div>
<p><strong>2.标志</strong>
--h | --help
打印命令行帮助并退出。</p>
<p>--config config-file
需要停止的bm-ctl服务器的配置文件路径。</p>
<p>--data_dir data-directory
需要停止的 bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
需要停止的 bm-ctl 服务器的基目录。</p>
<p>--log_dir log-directory
需要停止的 bm-ctl 服务器的日志目录。</p>
<h5 id="collect_logs"><strong>collect_logs</strong></h5>
<p>使用 bm-ctl collect_logs 命令生成包含所有日志的压缩文件。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl collect_logs [flags]
</code></pre></div>
<p><strong>2.标志</strong>
--h | --help
打印命令行帮助并退出。</p>
<p>--stdout stdout
将logs.tar.gz 文件的内容重定向到stdout。 例如， docker exec \<container-id\> bin/bm-ctlcollect_logs --stdout > bm-ctl.tar.gz</p>
<p>--config config-file
需要停止的bm-ctl服务器的配置文件路径。</p>
<p>--data_dir data-directory
需要停止的 bm-ctl 服务器的数据目录。</p>
<p>--base_dir base-directory
需要停止的 bm-ctl 服务器的基目录。</p>
<p>--log_dir log-directory
需要停止的 bm-ctl 服务器的日志目录。</p>
<h5 id="connect"><strong>connect</strong></h5>
<p>使用 bm-ctl connect 命令通过 sqlsh 或 cqlsh 连接到集群。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl connect [command] [flags]
</code></pre></div>
<p><strong>2.命令</strong>
以下子命令可用于 bm-ctl connect 命令：</p>
<ul>
<li>bsql</li>
<li>bcql</li>
</ul>
<p>（1）bsql
使用 bm-ctl connect bsql 子命令通过 sqlsh 连接到 AiSQL。</p>
<p>（2）bcql
使用 bm-ctl connect bcql 子命令通过 cqlsh 连接到 AiSQL。</p>
<p><strong>2.标志</strong>
--h | --help
打印命令行帮助并退出。</p>
<p>--config config-file
要连接的 bm-ctl 服务器的配置文件的路径。</p>
<p>--data_dir data-directory
bm-ctl 服务器要连接的数据目录。</p>
<p>--base_dir base-directory
bm-ctl 服务器连接的基目录。</p>
<p>--log_dir log-directory
bm-ctl 服务器要连接的日志目录</p>
<h5 id="demo"><strong>demo</strong></h5>
<p>使用 bm-ctl demo 命令将演示 Northwind 示例数据集与 AiSQL 结合使用。</p>
<p><strong>1.语法</strong></p>
<div class="highlight"><pre><span></span><code>bm-ctl demo [command] [flags]
</code></pre></div>
<p><strong>2.命令</strong>
以下子命令可用于 bm-ctl demo 命令：</p>
<ul>
<li>connect</li>
<li>destroy</li>
</ul>
<p>（1）connect
使用 bm-ctl demo connect 子命令将 Northwind 示例数据集加载到新的 bm_demo_northwind SQL 数据库中，然后打开同一数据库的 sqlsh 提示符。</p>
<p>（2）destroy
使用 yuagbyted demo destroy 子命令关闭 bm-ctl 单节点集群并删除数据、配置和日志目录。 此子命令还会删除 bm_demo_northwind 数据库。</p>
<p><strong>3.标志</strong>
-h | --help
打印帮助消息并退出。</p>
<p>--config config-file
要连接或销毁的 bm-ctl 服务器的配置文件的路径。</p>
<p>--data_dir data-directory
bm-ctl 服务器连接或销毁的数据目录。</p>
<p>--base_dir base-directory
bm-ctl 服务器连接或销毁的基本目录。</p>
<p>--log_dir log-directory
bm-ctl 服务器连接或销毁的日志目录。</p>
<h4 id="_31"><strong>环境变量</strong></h4>
<p>在多节点部署的情况下，所有节点应该具有相似的环境变量。</p>
<p>第一次运行后更改环境变量的值不会产生任何影响。</p>
<h5 id="bsql_2"><strong>BSQL</strong></h5>
<p>设置 BSQL_PASSWORD 以在强制身份验证模式下使用集群。</p>
<p>以下是环境变量的组合及其用途：</p>
<ul>
<li>
<p>BSQL_PASSWORD
  更新默认的 bigmath 用户密码。</p>
</li>
<li>
<p>BSQL_PASSWORD, BSQL_DB
  更新默认的bigmath用户密码并创建名为DB的BSQL_DB。</p>
</li>
<li>
<p>BSQL_PASSWORD, BSQL_USER
  创建名为 BSQL_USER 的用户和密码为 BSQL_PASSWORD 的数据库。</p>
</li>
<li>
<p>BSQL_USER
  创建名为 BSQL_USER 的用户和密码为 BSQL_USER 的数据库。</p>
</li>
<li>
<p>BSQL_USER, BSQL_DB</p>
</li>
</ul>
<p>创建名为BSQL_USER、密码为BSQL_USER 的命名用户和名为DB 的BSQL_DB。</p>
<ul>
<li>
<p>BSQL_DB
  创建BSQL_DB，命名为DB。</p>
</li>
<li>
<p>BSQL_USER, BSQL_PASSWORD, BSQL_DB
  创建名为 BSQL_USER、密码为 BSQL_PASSWORD 的用户和名为 DB 的 BSQL_DB。</p>
</li>
</ul>
<h5 id="bcql_1"><strong>BCQL</strong></h5>
<p>设置 BCQL_USER 或 BCQL_PASSWORD 以在强制身份验证模式下使用集群。</p>
<p>以下是环境变量的组合及其用途：</p>
<ul>
<li>
<p>BCQL_PASSWORD
  更新默认 cassandra 用户的密码。</p>
</li>
<li>
<p>BCQL_PASSWORD、BCQL_KEYSPACE
  更新默认 cassandra 用户的密码并创建名为 keyspace 的 BCQL_KEYSPACE。</p>
</li>
<li>
<p>BCQL_PASSWORD, BCQL_USER
  创建 BCQL_USER 命名用户和数据库，密码为 BCQL_PASSWORD。</p>
</li>
<li>
<p>BCQL_USER
  创建 BCQL_USER 命名用户和密码 BCQL_USER 的数据库。</p>
</li>
<li>
<p>BCQL_USER、BCQL_KEYSPACE
  使用密码 BCQL_USER 和 BCQL_USER 命名密钥空间创建 BCQL_USER 命名用户。</p>
</li>
<li>
<p>BCQL_KEYSPACE
  创建名为 keyspace 的 BCQL_KEYSPACE。</p>
</li>
<li>
<p>BCQL_USER, BCQL_PASSWORD, BCQL_KEYSPACE
  使用密码 BCQL_PASSWORD 和名为 keyspace 的 BCQL_KEYSPACE 创建 BCQL_USER 命名用户。</p>
</li>
</ul>
<h4 id="_32"><strong>示例</strong></h4>
<p>要部署任何类型的安全集群（即使用 --secure 标志）或使用静态加密，必须在您的计算机上安装 OpenSSL。</p>
<h5 id="macos"><strong>在 macOS 上运行</strong></h5>
<p><strong>1.端口冲突</strong>
macOS Monterey 默认启用 AirPlay 接收，监听端口 10000。这与 AiSQL 冲突，导致 bm-ctl 启动失败。 启动集群时使用 --mserver_webserver_port 标志来更改默认端口号，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --mserver_webserver_port=9999
</code></pre></div>
<p>或者，您可以禁用 AirPlay 接收，然后正常启动 AiSQL，然后（可选）重新启用 AirPlay 接收。</p>
<p><strong>2.环回地址</strong>
在 macOS 上，第一个节点之后的每个附加节点都需要配置一个环回地址来模拟多个主机或节点的使用。 例如，对于三节点集群，您可以添加两个附加地址，如下所示：</p>
<div class="highlight"><pre><span></span><code>sudo ifconfig lo0 alias 127.0.0.2
sudo ifconfig lo0 alias 127.0.0.3
</code></pre></div>
<p>重新启动计算机后，环回地址不会保留。</p>
<h5 id="_33"><strong>销毁本地集群</strong></h5>
<p>如果您在本地计算机上运行 AiSQL，则一次无法运行多个集群。 要使用 bm-ctl 设置新的本地 AiSQL 集群，请首先销毁当前正在运行的集群。</p>
<p>要销毁本地单节点集群，请使用 destroy 命令，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl destroy
</code></pre></div>
<p>要销毁本地多节点集群，请使用 destroy 命令，并将 --base_dir 标志设置为每个节点的基目录路径。 例如，对于三节点集群，您将执行类似于以下的命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl destroy --base_dir=/tmp/bmd1
./bin/bm-ctl destroy --base_dir=/tmp/bmd2
./bin/bm-ctl destroy --base_dir=/tmp/bmd3
</code></pre></div>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl destroy --base_dir=$HOME/bigmath-2.20.1.2/node1
./bin/bm-ctl destroy --base_dir=$HOME/bigmath-2.20.1.2/node2
./bin/bm-ctl destroy --base_dir=$HOME/bigmath-2.20.1.2/node3
</code></pre></div>
<p>如果集群具有超过三个节点，请对每个附加节点执行destroy --base_dir=<path to directory> 命令，直到销毁所有节点。</p>
<h5 id="_34"><strong>创建单节点集群</strong></h5>
<p>使用给定的基目录创建单节点集群。 请注意，需要为 base_dir 参数提供完全限定的目录路径。</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=127.0.0.1 \
    --base_dir=/Users/username/bigmath-2.20.1.2/data1
</code></pre></div>
<p>要创建启用传输加密和身份验证的安全单节点集群，请添加 --secure 标志，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=127.0.0.1 \
    --base_dir=/Users/username/bigmath-2.20.1.2/data1
</code></pre></div>
<p>启用身份验证后，默认用户和密码在 BSQL 中为 bigmath 和 bigmath，在 BCQL 中默认用户和密码为 cassandra 和 cassandra。</p>
<h5 id="_35"><strong>为安全的本地多节点集群创建证书</strong></h5>
<p>安全集群使用传输中加密，这需要集群中每个节点的 SSL/TLS 证书。 使用 --cert generate_server_certs 命令生成证书，然后将它们复制到相应的节点基目录，然后再创建安全的本地多节点集群。</p>
<p>创建 SSL 和 TLS 连接的证书：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl cert generate_server_certs --hostnames=127.0.0.1,127.0.0.2,127.0.0.3
</code></pre></div>
<p>证书在 <HOME>/var/ generated_certs/<hostname> 目录中生成。</p>
<p>将证书复制到相应节点的 <base_dir>/certs 目录：</p>
<div class="highlight"><pre><span></span><code>cp $HOME/var/generated_certs/127.0.0.1/* $HOME/bigmath-2.20.1.3/node1/certs
cp $HOME/var/generated_certs/127.0.0.2/* $HOME/bigmath-2.20.1.3/node2/certs
cp $HOME/var/generated_certs/127.0.0.3/* $HOME/bigmath-2.20.1.3/node3/certs
</code></pre></div>
<h5 id="_36"><strong>创建本地多节点集群</strong></h5>
<p>要创建具有多个节点的集群，首先创建一个节点，然后使用 --join 标志创建其他节点以将它们添加到集群中。 如果节点重新启动，您还可以使用 --join 标志重新加入集群。</p>
<p>要创建安全的多节点集群，请确保您已为每个节点生成并复制了证书。</p>
<p>要创建没有加密和身份验证的集群，请省略 --secure 标志。</p>
<p>要创建集群，请执行以下操作：</p>
<p>1.通过运行以下命令启动第一个节点：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=127.0.0.1 \
    --base_dir=$HOME/bigmath-2.20.1.3/node1 \
    --cloud_location=aws.us-east-1.us-east-1a
</code></pre></div>
<p>2.在 macOS 上，为其他节点配置环回地址，如下所示：</p>
<div class="highlight"><pre><span></span><code>sudo ifconfig lo0 alias 127.0.0.2
sudo ifconfig lo0 alias 127.0.0.3
</code></pre></div>
<p>3.使用 --join 标志向集群添加另外两个节点，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=127.0.0.2 \
    --join=127.0.0.1 \
    --base_dir=$HOME/bigmath-2.20.1.3/node2 \
    --cloud_location=aws.us-east-1.us-east-1b
./bin/bm-ctl start --secure --advertise_address=127.0.0.3 \
    --join=127.0.0.1 \
    --base_dir=$HOME/bigmath-2.20.1.3/node3 \
    --cloud_location=aws.us-east-1.us-east-1c
</code></pre></div>
<h5 id="_37"><strong>创建多专区（可用区）集群</strong></h5>
<p>1.创建安全的多可用区集群：
（1）通过运行 bm-ctl start 命令启动第一个节点，使用 --secure 标志并传入 --cloud_location 和 --fault_tolerance 标志来设置节点位置详细信息，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=&lt;host-ip&gt; \
    --cloud_location=aws.us-east-1.us-east-1a \
    --fault_tolerance=zone
</code></pre></div>
<p>（2）为第二个和第三个虚拟机 (VM) 创建用于 SSL 和 TLS 连接的证书，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl cert generate_server_certs --hostnames=&lt;IP_of_VM_2&gt;,&lt;IP_of_VM_3&gt;
</code></pre></div>
<p>（3）将第一个虚拟机中生成的证书手动复制到第二个和第三个虚拟机中，如下所示：
将第二个虚拟机的证书从第一个虚拟机中的 \$HOME/var/ generated_certs/<IP_of_VM_2> 复制到第二个虚拟机中的 \$HOME/var/certs。</p>
<p>将第三个虚拟机的证书从第一个虚拟机中的 \$HOME/var/ generated_certs/<IP_of_VM_3> 复制到第三个虚拟机中的 \$HOME/var/certs。</p>
<p>（4）使用 --join 标志在两个单独的 VM 上启动第二个和第三个节点，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-east-1.us-east-1b \
    --fault_tolerance=zone
</code></pre></div>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-east-1.us-east-1c \
    --fault_tolerance=zone
</code></pre></div>
<p>2.创建没有SSL加密的多可用区集群
（1）通过运行 bm-ctl start 命令启动第一个节点，传入 --cloud_location 和 --fault_tolerance 标志以设置节点位置详细信息，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=&lt;host-ip&gt; \
    --cloud_location=aws.us-east-1.us-east-1a \
    --fault_tolerance=zone
</code></pre></div>
<p>（2）使用 --join 标志在两个单独的 VM 上启动第二个和第三个节点，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-east-1.us-east-1b \
    --fault_tolerance=zone
</code></pre></div>
<p>./bin/bm-ctl start --advertise_address=<host-ip> \</p>
<div class="highlight"><pre><span></span><code>    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-east-1.us-east-1c \
    --fault_tolerance=zone
</code></pre></div>
<p>在所有节点上启动bm-ctl进程后，配置集群的数据放置约束如下：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement --fault_tolerance=zone
</code></pre></div>
<p>上述命令根据集群中每个节点的 --cloud_location 自动确定数据放置约束。 如果集群中有三个或更多可用区域，configure 命令会将集群配置为在至少一个可用区域发生故障时仍能幸存。 否则，它会输出警告消息。</p>
<p>集群的复制因子默认为3。</p>
<p>您可以使用 --constraint_value 标志手动设置数据放置约束，该标志采用以逗号分隔的 cloud.region.zone 值。 例如：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement --fault_tolerance=zone \
    --constraint_value=aws.us-east-1.us-east-1a,aws.us-east-1.us-east-1b,aws.us-east-1.us-east-1c \
</code></pre></div>
<p>您可以使用 --rf 标志手动设置集群的复制因子。 例如：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement --fault_tolerance=zone \
    --constraint_value=aws.us-east-1.us-east-1a,aws.us-east-1.us-east-1b,aws.us-east-1.us-east-1c \
    --rf=3
</code></pre></div>
<h5 id="_38"><strong>创建多区域集群</strong></h5>
<p>1.创建安全的多区域集群：
（1）通过运行 bm-ctl start 命令启动第一个节点，使用 --secure 标志并传入 --cloud_location 和 --fault_tolerance 标志来设置节点位置详细信息，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=&lt;host-ip&gt; \
    --cloud_location=aws.us-east-1.us-east-1a \
    --fault_tolerance=region
</code></pre></div>
<p>（2）为第二个和第三个虚拟机 (VM) 创建用于 SSL 和 TLS 连接的证书，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl cert generate_server_certs --hostnames=&lt;IP_of_VM_2&gt;,&lt;IP_of_VM_3&gt;
</code></pre></div>
<p>（3）手动将第一个虚拟机中生成的证书复制到第二个和第三个虚拟机：
将第二个虚拟机的证书从第一个虚拟机中的 $HOME/var/ generated_certs/<IP_of_VM_2> 复制到第二个虚拟机中的 $HOME/var/certs。</p>
<p>将第三个虚拟机的证书从第一个虚拟机中的 $HOME/var/ generated_certs/<IP_of_VM_3> 复制到第三个虚拟机中的 $HOME/var/certs。</p>
<p>（4）使用 --join 标志在两个单独的 VM 上启动第二个和第三个节点，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-west-1.us-west-1a \
    --fault_tolerance=region
</code></pre></div>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --secure --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-central-1.us-central-1a \
    --fault_tolerance=region
</code></pre></div>
<p>2.创建多区域集群：
（1）通过运行 bm-ctl start 命令启动第一个节点，传入 --cloud_location 和 --fault_tolerance 标志以设置节点位置详细信息，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=&lt;host-ip&gt; \
    --cloud_location=aws.us-east-1.us-east-1a \
    --fault_tolerance=region
</code></pre></div>
<p>（2）使用 --join 标志在两个单独的 VM 上启动第二个和第三个节点，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-west-1.us-west-1a \
    --fault_tolerance=region
</code></pre></div>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=&lt;host-ip&gt; \
    --join=&lt;ip-address-first-bm-ctl-node&gt; \
    --cloud_location=aws.us-central-1.us-central-1a \
    --fault_tolerance=region
</code></pre></div>
<p>在所有节点上启动bm-ctl进程后，配置集群的数据放置约束如下：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement --fault_tolerance=region
</code></pre></div>
<p>上述命令根据集群中每个节点的 --cloud_location 自动确定数据放置约束。 如果集群中有三个或更多区域，configure 命令会将集群配置为在至少一个区域发生故障时仍能幸存。 否则，它会输出警告消息。</p>
<p>集群的复制因子默认为3。</p>
<p>您可以使用 --constraint_value 标志手动设置数据放置约束，该标志采用以逗号分隔的 cloud.region.zone 值。 例如：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement \
    --fault_tolerance=region \
    --constraint_value=aws.us-east-1.us-east-1a,aws.us-west-1.us-west-1a,aws.us-central-1.us-central-1a
</code></pre></div>
<p>您可以使用 --rf 标志手动设置集群的复制因子。 例如：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement \
    --fault_tolerance=region \
    --constraint_value=aws.us-east-1.us-east-1a,aws.us-west-1.us-west-1a,aws.us-central-1.us-central-1a \
    --rf=3
</code></pre></div>
<h5 id="_39"><strong>启用和禁用静态加密</strong></h5>
<p>要在已部署的本地集群中启用静态加密，请运行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure encrypt_at_rest \
    --enable \
    --base_dir=$HOME/bigmath-2.20.1.3/node1
</code></pre></div>
<p>要在已部署的多可用区或多区域集群中启用静态加密，请从任何虚拟机运行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure encrypt_at_rest --enable
</code></pre></div>
<p>要在启用静态加密的本地集群中禁用静态加密，请运行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure encrypt_at_rest \
    --disable \
    --base_dir=$HOME/bigmath-2.20.1.3/node1
</code></pre></div>
<p>要在启用了此类加密的多可用区或多区域集群中禁用静态加密，请从任何虚拟机运行以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure encrypt_at_rest --disable
</code></pre></div>
<h5 id="dbserver"><strong>将附加标志传递给 DBServer</strong></h5>
<p>创建单节点集群并为 DBServer 进程设置附加标志：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --dbserver_flags=&quot;pg_bm_session_timeout_ms=1200000,bsql_max_connections=400&quot;
</code></pre></div>
<h4 id="aisql"><strong>升级 AiSQL 集群</strong></h4>
<p>要使用数据库的最新功能并应用最新的安全修复程序，请将 AiSQL 集群升级到最新版本。</p>
<p>升级使用 bm-ctl 部署的现有 AiSQL 集群包括以下步骤：
1.使用 bm-ctl stop 命令停止正在运行的 AiSQL 节点。
2.通过执行 bm-ctl start 命令启动新的 bm-ctl 进程。 重启实例时使用之前配置的 --base_dir 。</p>
<p>在集群的所有节点上重复这些步骤，一次一个节点。</p>
<h5 id="_40"><strong>将集群从单可用区升级为多可用区</strong></h5>
<p>以下步骤假设您有一个使用 bm-ctl 部署的正在运行的 AiSQL 集群，并且已下载更新：
1.使用 bm-ctl stop 命令停止第一个节点：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl stop
</code></pre></div>
<p>2.使用 bm-ctl start 命令启动 AiSQL 节点，并提供必要的云信息，如下所示：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl start --advertise_address=&lt;host-ip&gt; \
  --cloud_location=aws.us-east-1.us-east-1a \
  --fault_tolerance=zone
</code></pre></div>
<p>3.在集群的所有节点上重复上一步，一次一个节点。 如果要在本地计算机上部署集群，请使用 --base-dir 标志指定每个节点的基目录。</p>
<p>4.启动所有节点后，使用以下命令指定集群上的数据放置约束：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement --fault_tolerance=zone
</code></pre></div>
<p>要手动指定数据放置约束，请使用以下命令：</p>
<div class="highlight"><pre><span></span><code>./bin/bm-ctl configure data_placement \
  --fault_tolerance=zone \
  --constraint_value=aws.us-east-1.us-east-1a,aws.us-east-1.us-east-1b,aws.us-east-1.us-east-1c \
  --rf=3
</code></pre></div>
<h3 id="_41"><strong>默认端口</strong></h3>
<h4 id="api_1"><strong>客户端API</strong></h4>
<p>应用程序客户端连接到以下地址： </p>
<table>
<thead>
<tr>
<th>API</th>
<th>Port</th>
<th>Server</th>
<th>标志（默认）</th>
</tr>
</thead>
<tbody>
<tr>
<td>BSQL</td>
<td>2521</td>
<td>bm-dbserver</td>
<td>--pgsql_proxy_bind_address 0.0.0.0:2521</td>
</tr>
<tr>
<td>BCQL</td>
<td>9542</td>
<td>bm-dbserver</td>
<td>--cql_proxy_bind_address 0.0.0.0:9542</td>
</tr>
<tr>
<td>BEDIS</td>
<td>6879</td>
<td>bm-dbserver</td>
<td>--redis_proxy_bind_address 0.0.0.0:6879</td>
</tr>
</tbody>
</table>
<h4 id="rpc"><strong>节点RPC通信</strong></h4>
<p>包括xDCR在内，节点（服务器到服务器，或节点到节点）的通信管理是通过RPC调用进行的： </p>
<table>
<thead>
<tr>
<th>Server</th>
<th>Port</th>
<th>标志（默认）</th>
</tr>
</thead>
<tbody>
<tr>
<td>bm-mserver</td>
<td>11000</td>
<td>--rpc_bind_addresses 0.0.0.0:11000</td>
</tr>
<tr>
<td>bm-dbserver</td>
<td>21000</td>
<td>--rpc_bind_addresses 0.0.0.0:21000 --dbserver_mserver_addrs 0.0.0.0:11000 --server_broadcast_addresses 0.0.0.0:21000</td>
</tr>
</tbody>
</table>
<p>为了能够登录到服务器，应打开SSH端口22。
xDCR使用bm-mserver端口11000进行初始通信，然后使用bm-dbserver端口21000获取数据更改。</p>
<h4 id="web"><strong>web管理</strong></h4>
<p>可以登录以下地址来进行web管理：</p>
<table>
<thead>
<tr>
<th>Server</th>
<th>Port</th>
<th>标志（默认）</th>
</tr>
</thead>
<tbody>
<tr>
<td>bm-mserver</td>
<td>10000</td>
<td>--webserver_interface 0.0.0.0 --webserver_port 10000</td>
</tr>
<tr>
<td>bm-dbserver</td>
<td>20000</td>
<td>--webserver_interface 0.0.0.0 --webserver_port 20000</td>
</tr>
</tbody>
</table>
<h4 id="_42"><strong>防火墙</strong></h4>
<p>防火墙，需要以下开启如下端口： </p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSH</td>
<td>22</td>
</tr>
</tbody>
</table>
<h4 id="prometheus"><strong>Prometheus监听</strong></h4>
<p>AiSQL服务暴露时序性能指标，并在具有以下结构的多个HTTP端点上以Prometheus exposition格式公开它们。
<target>/prometheus-metrics</p>
<p>可以访问9010端口上的Prometheus服务器，并且可以在http://<ip>:9010/targets上看到目标列表。~~特别是，请注意节点级的端口9300~~</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>Prometheus</td>
<td>9010</td>
</tr>
</tbody>
</table>
<h5 id="servers"><strong>Servers</strong></h5>
<p>使用如下目标地址，监听bm-dbserver和bm-mserver服务器指标：</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>bm-mserver</td>
<td><bm-mserver-address>:10000</td>
</tr>
<tr>
<td>bm-dbserver</td>
<td><bm-dbserver-address>:20000</td>
</tr>
</tbody>
</table>
<h5 id="apis"><strong>APIs</strong></h5>
<p>使用如下bm-dbserver目标地址，监听各种API指标：</p>
<table>
<thead>
<tr>
<th>API</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>BSQL</td>
<td><bm-dbserver-address>:8100</td>
</tr>
<tr>
<td>BCQL</td>
<td><bm-dbserver-address>:8200</td>
</tr>
<tr>
<td>BEDIS</td>
<td><bm-dbserver-address>:8300</td>
</tr>
</tbody>
</table>
<p>有关将Prometheus 与AiSQL一起使用的信息，请参阅Prometheus监控。</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2024 贝格迈思
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>